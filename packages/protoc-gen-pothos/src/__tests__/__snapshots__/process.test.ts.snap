// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`deprecation with ts-proto generates pothos DSLs: deprecation/deprecation.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/deprecation/deprecation.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import {
  DeprecatedEnum,
  DeprecatedMessage,
  DeprecatedMessage_InnerMessage,
  NotDeprecatedEnum,
  NotDeprecatedMessage,
  NotDeprecatedMessage_InnerMessage1,
  NotDeprecatedMessage_InnerMessage2,
} from "./testapis/deprecation/deprecation";

export const DeprecatedMessage$Ref = builder.objectRef<DeprecatedMessage>(
  "DeprecatedMessage",
);
builder.objectType(DeprecatedMessage$Ref, {
  name: "DeprecatedMessage",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      deprecationReason:
        "testapis.deprecation.DeprecatedMessage is mark as deprecated in a *.proto file.",
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
    enum: t.field({
      type: NotDeprecatedEnum$Ref,
      nullable: true,
      deprecationReason:
        "testapis.deprecation.DeprecatedMessage is mark as deprecated in a *.proto file.",
      resolve: (source) => {
        if (source.enum === NotDeprecatedEnum.NOT_DEPRECATED_ENUM_UNSPECIFIED) {
          return null;
        }

        return source.enum;
      },
      extensions: {
        protobufField: {
          name: "enum",
          typeFullName: "testapis.deprecation.NotDeprecatedEnum",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as DeprecatedMessage | { $type: string & {}; }).$type ===
      "testapis.deprecation.DeprecatedMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.DeprecatedMessage",
      name: "DeprecatedMessage",
      package: "testapis.deprecation",
    },
  },
});

export const NotDeprecatedMessage$Ref = builder.objectRef<NotDeprecatedMessage>(
  "NotDeprecatedMessage",
);
builder.objectType(NotDeprecatedMessage$Ref, {
  name: "NotDeprecatedMessage",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      deprecationReason:
        "testapis.deprecation.NotDeprecatedMessage.body is mark as deprecated in a *.proto file.",
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
    enum: t.field({
      type: DeprecatedEnum$Ref,
      nullable: true,
      deprecationReason:
        "testapis.deprecation.DeprecatedEnum is mark as deprecated in a *.proto file.",
      resolve: (source) => {
        if (source.enum === DeprecatedEnum.DEPRECATED_ENUM_UNSPECIFIED) {
          return null;
        }

        return source.enum;
      },
      extensions: {
        protobufField: {
          name: "enum",
          typeFullName: "testapis.deprecation.DeprecatedEnum",
        },
      },
    }),
    notDeprecatedOneof: t.field({
      type: NotDeprecatedMessageNotDeprecatedOneof$Ref,
      nullable: true,
      resolve: (source) => {
        const value = source.msg1 ?? source.msg2;
        if (value == null) {
          return null;
        }
        return value;
      },
      extensions: { protobufField: { name: "not_deprecated_oneof" } },
    }),
    deprecatedOneof: t.field({
      type: NotDeprecatedMessageDeprecatedOneof$Ref,
      nullable: true,
      deprecationReason:
        "testapis.deprecation.NotDeprecatedMessage.deprecated_oneof is mark as deprecated in a *.proto file.",
      resolve: (source) => {
        const value = source.msg3 ?? source.msg4;
        if (value == null) {
          return null;
        }
        return value;
      },
      extensions: { protobufField: { name: "deprecated_oneof" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as NotDeprecatedMessage | { $type: string & {}; }).$type ===
      "testapis.deprecation.NotDeprecatedMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.NotDeprecatedMessage",
      name: "NotDeprecatedMessage",
      package: "testapis.deprecation",
    },
  },
});

export const DeprecatedMessageInnerMessage$Ref = builder.objectRef<
  DeprecatedMessage_InnerMessage
>("DeprecatedMessageInnerMessage");
builder.objectType(DeprecatedMessageInnerMessage$Ref, {
  name: "DeprecatedMessageInnerMessage",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      deprecationReason:
        "testapis.deprecation.DeprecatedMessage is mark as deprecated in a *.proto file.",
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as DeprecatedMessage_InnerMessage | { $type: string & {}; })
      .$type === "testapis.deprecation.DeprecatedMessage.InnerMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.DeprecatedMessage.InnerMessage",
      name: "InnerMessage",
      package: "testapis.deprecation",
    },
  },
});

export const NotDeprecatedMessageInnerMessage1$Ref = builder.objectRef<
  NotDeprecatedMessage_InnerMessage1
>("NotDeprecatedMessageInnerMessage1");
builder.objectType(NotDeprecatedMessageInnerMessage1$Ref, {
  name: "NotDeprecatedMessageInnerMessage1",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as NotDeprecatedMessage_InnerMessage1 | {
      $type: string & {};
    }).$type === "testapis.deprecation.NotDeprecatedMessage.InnerMessage1";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.NotDeprecatedMessage.InnerMessage1",
      name: "InnerMessage1",
      package: "testapis.deprecation",
    },
  },
});

export const NotDeprecatedMessageInnerMessage2$Ref = builder.objectRef<
  NotDeprecatedMessage_InnerMessage2
>("NotDeprecatedMessageInnerMessage2");
builder.objectType(NotDeprecatedMessageInnerMessage2$Ref, {
  name: "NotDeprecatedMessageInnerMessage2",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as NotDeprecatedMessage_InnerMessage2 | {
      $type: string & {};
    }).$type === "testapis.deprecation.NotDeprecatedMessage.InnerMessage2";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.NotDeprecatedMessage.InnerMessage2",
      name: "InnerMessage2",
      package: "testapis.deprecation",
    },
  },
});

export type DeprecatedMessageInput$Shape = {
  body: DeprecatedMessage["body"];
  enum?: DeprecatedMessage["enum"] | null;
};

export const DeprecatedMessageInput$Ref: InputObjectRef<
  DeprecatedMessageInput$Shape
> = builder.inputRef<DeprecatedMessageInput$Shape>("DeprecatedMessageInput")
  .implement({
    fields: (t) => ({
      body: t.field({
        type: "String",
        required: true,
        deprecationReason:
          "testapis.deprecation.DeprecatedMessage is mark as deprecated in a *.proto file.",
        extensions: { protobufField: { name: "body", typeFullName: "string" } },
      }),
      enum: t.field({
        type: NotDeprecatedEnum$Ref,
        required: false,
        deprecationReason:
          "testapis.deprecation.DeprecatedMessage is mark as deprecated in a *.proto file.",
        extensions: {
          protobufField: {
            name: "enum",
            typeFullName: "testapis.deprecation.NotDeprecatedEnum",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.deprecation.DeprecatedMessage",
        name: "DeprecatedMessage",
        package: "testapis.deprecation",
      },
    },
  });

export type NotDeprecatedMessageInput$Shape = {
  body: NotDeprecatedMessage["body"];
  enum?: NotDeprecatedMessage["enum"] | null;
  msg1?: NotDeprecatedMessageInnerMessage1Input$Shape | null;
  msg2?: NotDeprecatedMessageInnerMessage2Input$Shape | null;
  msg3?: NotDeprecatedMessageInnerMessage1Input$Shape | null;
  msg4?: NotDeprecatedMessageInnerMessage2Input$Shape | null;
};

export const NotDeprecatedMessageInput$Ref: InputObjectRef<
  NotDeprecatedMessageInput$Shape
> = builder.inputRef<NotDeprecatedMessageInput$Shape>(
  "NotDeprecatedMessageInput",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      deprecationReason:
        "testapis.deprecation.NotDeprecatedMessage.body is mark as deprecated in a *.proto file.",
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
    enum: t.field({
      type: DeprecatedEnum$Ref,
      required: false,
      deprecationReason:
        "testapis.deprecation.DeprecatedEnum is mark as deprecated in a *.proto file.",
      extensions: {
        protobufField: {
          name: "enum",
          typeFullName: "testapis.deprecation.DeprecatedEnum",
        },
      },
    }),
    msg1: t.field({
      type: NotDeprecatedMessageInnerMessage1Input$Ref,
      required: false,
      deprecationReason:
        "testapis.deprecation.NotDeprecatedMessage.msg1 is mark as deprecated in a *.proto file.",
      extensions: {
        protobufField: {
          name: "msg1",
          typeFullName:
            "testapis.deprecation.NotDeprecatedMessage.InnerMessage1",
        },
      },
    }),
    msg2: t.field({
      type: NotDeprecatedMessageInnerMessage2Input$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "msg2",
          typeFullName:
            "testapis.deprecation.NotDeprecatedMessage.InnerMessage2",
        },
      },
    }),
    msg3: t.field({
      type: NotDeprecatedMessageInnerMessage1Input$Ref,
      required: false,
      deprecationReason:
        "testapis.deprecation.NotDeprecatedMessage.msg3 is mark as deprecated in a *.proto file.",
      extensions: {
        protobufField: {
          name: "msg3",
          typeFullName:
            "testapis.deprecation.NotDeprecatedMessage.InnerMessage1",
        },
      },
    }),
    msg4: t.field({
      type: NotDeprecatedMessageInnerMessage2Input$Ref,
      required: false,
      deprecationReason:
        "testapis.deprecation.NotDeprecatedMessage.msg4 is mark as deprecated in a *.proto file.",
      extensions: {
        protobufField: {
          name: "msg4",
          typeFullName:
            "testapis.deprecation.NotDeprecatedMessage.InnerMessage2",
        },
      },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.NotDeprecatedMessage",
      name: "NotDeprecatedMessage",
      package: "testapis.deprecation",
    },
  },
});

export type DeprecatedMessageInnerMessageInput$Shape = {
  body: DeprecatedMessage_InnerMessage["body"];
};

export const DeprecatedMessageInnerMessageInput$Ref: InputObjectRef<
  DeprecatedMessageInnerMessageInput$Shape
> = builder.inputRef<DeprecatedMessageInnerMessageInput$Shape>(
  "DeprecatedMessageInnerMessageInput",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      deprecationReason:
        "testapis.deprecation.DeprecatedMessage is mark as deprecated in a *.proto file.",
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.DeprecatedMessage.InnerMessage",
      name: "InnerMessage",
      package: "testapis.deprecation",
    },
  },
});

export type NotDeprecatedMessageInnerMessage1Input$Shape = {
  body: NotDeprecatedMessage_InnerMessage1["body"];
};

export const NotDeprecatedMessageInnerMessage1Input$Ref: InputObjectRef<
  NotDeprecatedMessageInnerMessage1Input$Shape
> = builder.inputRef<NotDeprecatedMessageInnerMessage1Input$Shape>(
  "NotDeprecatedMessageInnerMessage1Input",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.NotDeprecatedMessage.InnerMessage1",
      name: "InnerMessage1",
      package: "testapis.deprecation",
    },
  },
});

export type NotDeprecatedMessageInnerMessage2Input$Shape = {
  body: NotDeprecatedMessage_InnerMessage2["body"];
};

export const NotDeprecatedMessageInnerMessage2Input$Ref: InputObjectRef<
  NotDeprecatedMessageInnerMessage2Input$Shape
> = builder.inputRef<NotDeprecatedMessageInnerMessage2Input$Shape>(
  "NotDeprecatedMessageInnerMessage2Input",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.NotDeprecatedMessage.InnerMessage2",
      name: "InnerMessage2",
      package: "testapis.deprecation",
    },
  },
});

export const NotDeprecatedMessageNotDeprecatedOneof$Ref = builder.unionType(
  "NotDeprecatedMessageNotDeprecatedOneof",
  {
    types: [
      NotDeprecatedMessageInnerMessage1$Ref,
      NotDeprecatedMessageInnerMessage2$Ref,
    ],
    extensions: {
      protobufOneof: {
        fullName:
          "testapis.deprecation.NotDeprecatedMessage.not_deprecated_oneof",
        name: "not_deprecated_oneof",
        messageName: "NotDeprecatedMessage",
        package: "testapis.deprecation",
        fields: [{
          name: "msg1",
          type: "testapis.deprecation.NotDeprecatedMessage.InnerMessage1",
        }, {
          name: "msg2",
          type: "testapis.deprecation.NotDeprecatedMessage.InnerMessage2",
        }],
      },
    },
  },
);

export const NotDeprecatedMessageDeprecatedOneof$Ref = builder.unionType(
  "NotDeprecatedMessageDeprecatedOneof",
  {
    types: [
      NotDeprecatedMessageInnerMessage1$Ref,
      NotDeprecatedMessageInnerMessage2$Ref,
    ],
    extensions: {
      protobufOneof: {
        fullName: "testapis.deprecation.NotDeprecatedMessage.deprecated_oneof",
        name: "deprecated_oneof",
        messageName: "NotDeprecatedMessage",
        package: "testapis.deprecation",
        fields: [{
          name: "msg3",
          type: "testapis.deprecation.NotDeprecatedMessage.InnerMessage1",
        }, {
          name: "msg4",
          type: "testapis.deprecation.NotDeprecatedMessage.InnerMessage2",
        }],
      },
    },
  },
);

export const NotDeprecatedEnum$Ref = builder.enumType("NotDeprecatedEnum", {
  values: {
    NOT_DEPRECATED_FOO: {
      value: 1,
      extensions: { protobufEnumValue: { name: "NOT_DEPRECATED_FOO" } },
    },
    DEPRECATED_BAR: {
      deprecationReason:
        "testapis.deprecation.NotDeprecatedEnum.DEPRECATED_BAR is mark as deprecated in a *.proto file.",
      value: 2,
      extensions: { protobufEnumValue: { name: "DEPRECATED_BAR" } },
    },
  } as const,
  extensions: {
    protobufEnum: {
      name: "NotDeprecatedEnum",
      fullName: "testapis.deprecation.NotDeprecatedEnum",
      package: "testapis.deprecation",
    },
  },
});

export const DeprecatedEnum$Ref = builder.enumType("DeprecatedEnum", {
  values: {
    DEPRECATED_BAZ: {
      deprecationReason:
        "testapis.deprecation.DeprecatedEnum is mark as deprecated in a *.proto file.",
      value: 1,
      extensions: { protobufEnumValue: { name: "DEPRECATED_BAZ" } },
    },
    DEPRECATED_QUX: {
      deprecationReason:
        "testapis.deprecation.DeprecatedEnum is mark as deprecated in a *.proto file.",
      value: 2,
      extensions: { protobufEnumValue: { name: "DEPRECATED_QUX" } },
    },
  } as const,
  extensions: {
    protobufEnum: {
      name: "DeprecatedEnum",
      fullName: "testapis.deprecation.DeprecatedEnum",
      package: "testapis.deprecation",
    },
  },
});
"
`;

exports[`deprecation with ts-proto generates pothos DSLs: deprecation/file_deprecation.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/deprecation/file_deprecation.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import {
  DeprecatedFileEnum,
  DeprecatedFileMessage,
  DeprecatedFileMessage_InnerMessage,
} from "./testapis/deprecation/file_deprecation";

export const DeprecatedFileMessage$Ref = builder.objectRef<
  DeprecatedFileMessage
>("DeprecatedFileMessage");
builder.objectType(DeprecatedFileMessage$Ref, {
  name: "DeprecatedFileMessage",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      deprecationReason:
        "testapis/deprecation/file_deprecation.proto is mark as deprecated.",
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
    enum: t.field({
      type: DeprecatedFileEnum$Ref,
      nullable: true,
      deprecationReason:
        "testapis/deprecation/file_deprecation.proto is mark as deprecated.",
      resolve: (source) => {
        if (
          source.enum === DeprecatedFileEnum.DEPRECATED_FILE_ENUM_UNSPECIFIED
        ) {
          return null;
        }

        return source.enum;
      },
      extensions: {
        protobufField: {
          name: "enum",
          typeFullName: "testapis.deprecation.DeprecatedFileEnum",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as DeprecatedFileMessage | { $type: string & {}; }).$type ===
      "testapis.deprecation.DeprecatedFileMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.DeprecatedFileMessage",
      name: "DeprecatedFileMessage",
      package: "testapis.deprecation",
    },
  },
});

export const DeprecatedFileMessageInnerMessage$Ref = builder.objectRef<
  DeprecatedFileMessage_InnerMessage
>("DeprecatedFileMessageInnerMessage");
builder.objectType(DeprecatedFileMessageInnerMessage$Ref, {
  name: "DeprecatedFileMessageInnerMessage",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      deprecationReason:
        "testapis/deprecation/file_deprecation.proto is mark as deprecated.",
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as DeprecatedFileMessage_InnerMessage | {
      $type: string & {};
    }).$type === "testapis.deprecation.DeprecatedFileMessage.InnerMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.DeprecatedFileMessage.InnerMessage",
      name: "InnerMessage",
      package: "testapis.deprecation",
    },
  },
});

export type DeprecatedFileMessageInput$Shape = {
  body: DeprecatedFileMessage["body"];
  enum?: DeprecatedFileMessage["enum"] | null;
};

export const DeprecatedFileMessageInput$Ref: InputObjectRef<
  DeprecatedFileMessageInput$Shape
> = builder.inputRef<DeprecatedFileMessageInput$Shape>(
  "DeprecatedFileMessageInput",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      deprecationReason:
        "testapis/deprecation/file_deprecation.proto is mark as deprecated.",
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
    enum: t.field({
      type: DeprecatedFileEnum$Ref,
      required: false,
      deprecationReason:
        "testapis/deprecation/file_deprecation.proto is mark as deprecated.",
      extensions: {
        protobufField: {
          name: "enum",
          typeFullName: "testapis.deprecation.DeprecatedFileEnum",
        },
      },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.DeprecatedFileMessage",
      name: "DeprecatedFileMessage",
      package: "testapis.deprecation",
    },
  },
});

export type DeprecatedFileMessageInnerMessageInput$Shape = {
  body: DeprecatedFileMessage_InnerMessage["body"];
};

export const DeprecatedFileMessageInnerMessageInput$Ref: InputObjectRef<
  DeprecatedFileMessageInnerMessageInput$Shape
> = builder.inputRef<DeprecatedFileMessageInnerMessageInput$Shape>(
  "DeprecatedFileMessageInnerMessageInput",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      deprecationReason:
        "testapis/deprecation/file_deprecation.proto is mark as deprecated.",
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.DeprecatedFileMessage.InnerMessage",
      name: "InnerMessage",
      package: "testapis.deprecation",
    },
  },
});

export const DeprecatedFileEnum$Ref = builder.enumType("DeprecatedFileEnum", {
  values: {
    DEPRECATED_FILE_FOO: {
      deprecationReason:
        "testapis/deprecation/file_deprecation.proto is mark as deprecated.",
      value: 1,
      extensions: { protobufEnumValue: { name: "DEPRECATED_FILE_FOO" } },
    },
    DEPRECATED_FILE_BAR: {
      deprecationReason:
        "testapis/deprecation/file_deprecation.proto is mark as deprecated.",
      value: 2,
      extensions: { protobufEnumValue: { name: "DEPRECATED_FILE_BAR" } },
    },
  } as const,
  extensions: {
    protobufEnum: {
      name: "DeprecatedFileEnum",
      fullName: "testapis.deprecation.DeprecatedFileEnum",
      package: "testapis.deprecation",
    },
  },
});
"
`;

exports[`empty types with ts-proto generates pothos DSLs: empty_types/empty.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/empty_types/empty.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { EmptyMessage } from "./testapis/empty_types/empty";

export const EmptyMessage$Ref = builder.objectRef<EmptyMessage>("EmptyMessage");
builder.objectType(EmptyMessage$Ref, {
  name: "EmptyMessage",
  fields: (t) => ({
    _: t.field({
      type: "Boolean",
      nullable: true,
      description: "noop field",
      resolve: () => true,
    }),
  }),
  isTypeOf: (source) => {
    return (source as EmptyMessage | { $type: string & {}; }).$type ===
      "testapis.empty_types.EmptyMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.empty_types.EmptyMessage",
      name: "EmptyMessage",
      package: "testapis.empty_types",
    },
  },
});

export type EmptyMessageInput$Shape = {};

export const EmptyMessageInput$Ref: InputObjectRef<EmptyMessageInput$Shape> =
  builder.inputRef<EmptyMessageInput$Shape>("EmptyMessageInput").implement({
    fields: (t) => ({
      _: t.field({
        type: "Boolean",
        required: false,
        description: "noop field",
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.empty_types.EmptyMessage",
        name: "EmptyMessage",
        package: "testapis.empty_types",
      },
    },
  });
"
`;

exports[`field_behavior with ts-proto generates pothos DSLs: field_behavior/comments.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/field_behavior/comments.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import {
  FieldBehaviorComentsMessage,
  FieldBehaviorComentsMessage_Post,
} from "./testapis/field_behavior/comments";

export const FieldBehaviorComentsMessage$Ref = builder.objectRef<
  FieldBehaviorComentsMessage
>("FieldBehaviorComentsMessage");
builder.objectType(FieldBehaviorComentsMessage$Ref, {
  name: "FieldBehaviorComentsMessage",
  fields: (t) => ({
    requiredField: t.field({
      type: FieldBehaviorComentsMessagePost$Ref,
      nullable: false,
      description: "Required.",
      resolve: (source) => {
        return source.requiredField!;
      },
      extensions: {
        protobufField: {
          name: "required_field",
          typeFullName: "testapis.deprecation.FieldBehaviorComentsMessage.Post",
        },
      },
    }),
    requiredOutputOnlyField: t.field({
      type: FieldBehaviorComentsMessagePost$Ref,
      nullable: false,
      description: "Required. Output only.",
      resolve: (source) => {
        return source.requiredOutputOnlyField!;
      },
      extensions: {
        protobufField: {
          name: "required_output_only_field",
          typeFullName: "testapis.deprecation.FieldBehaviorComentsMessage.Post",
        },
      },
    }),
    outputOnlyRequiredField: t.field({
      type: FieldBehaviorComentsMessagePost$Ref,
      nullable: false,
      description: "Output only. Required.",
      resolve: (source) => {
        return source.outputOnlyRequiredField!;
      },
      extensions: {
        protobufField: {
          name: "output_only_required_field",
          typeFullName: "testapis.deprecation.FieldBehaviorComentsMessage.Post",
        },
      },
    }),
    outputOnlyField: t.expose("outputOnlyField", {
      type: FieldBehaviorComentsMessagePost$Ref,
      nullable: true,
      description: "Output only.",
      extensions: {
        protobufField: {
          name: "output_only_field",
          typeFullName: "testapis.deprecation.FieldBehaviorComentsMessage.Post",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as FieldBehaviorComentsMessage | { $type: string & {}; })
      .$type === "testapis.deprecation.FieldBehaviorComentsMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.FieldBehaviorComentsMessage",
      name: "FieldBehaviorComentsMessage",
      package: "testapis.deprecation",
    },
  },
});

export const FieldBehaviorComentsMessagePost$Ref = builder.objectRef<
  FieldBehaviorComentsMessage_Post
>("FieldBehaviorComentsMessagePost");
builder.objectType(FieldBehaviorComentsMessagePost$Ref, {
  name: "FieldBehaviorComentsMessagePost",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as FieldBehaviorComentsMessage_Post | {
      $type: string & {};
    }).$type === "testapis.deprecation.FieldBehaviorComentsMessage.Post";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.FieldBehaviorComentsMessage.Post",
      name: "Post",
      package: "testapis.deprecation",
    },
  },
});

export type FieldBehaviorComentsMessageInput$Shape = {
  requiredField: FieldBehaviorComentsMessagePostInput$Shape;
  requiredInputOnlyField: FieldBehaviorComentsMessagePostInput$Shape;
  inputOnlyRequiredField: FieldBehaviorComentsMessagePostInput$Shape;
  inputOnlyField?: FieldBehaviorComentsMessagePostInput$Shape | null;
};

export const FieldBehaviorComentsMessageInput$Ref: InputObjectRef<
  FieldBehaviorComentsMessageInput$Shape
> = builder.inputRef<FieldBehaviorComentsMessageInput$Shape>(
  "FieldBehaviorComentsMessageInput",
).implement({
  fields: (t) => ({
    requiredField: t.field({
      type: FieldBehaviorComentsMessagePostInput$Ref,
      required: true,
      description: "Required.",
      extensions: {
        protobufField: {
          name: "required_field",
          typeFullName: "testapis.deprecation.FieldBehaviorComentsMessage.Post",
        },
      },
    }),
    requiredInputOnlyField: t.field({
      type: FieldBehaviorComentsMessagePostInput$Ref,
      required: true,
      description: "Required. Input only.",
      extensions: {
        protobufField: {
          name: "required_input_only_field",
          typeFullName: "testapis.deprecation.FieldBehaviorComentsMessage.Post",
        },
      },
    }),
    inputOnlyRequiredField: t.field({
      type: FieldBehaviorComentsMessagePostInput$Ref,
      required: true,
      description: "Input only. Required.",
      extensions: {
        protobufField: {
          name: "input_only_required_field",
          typeFullName: "testapis.deprecation.FieldBehaviorComentsMessage.Post",
        },
      },
    }),
    inputOnlyField: t.field({
      type: FieldBehaviorComentsMessagePostInput$Ref,
      required: false,
      description: "Input only.",
      extensions: {
        protobufField: {
          name: "input_only_field",
          typeFullName: "testapis.deprecation.FieldBehaviorComentsMessage.Post",
        },
      },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.FieldBehaviorComentsMessage",
      name: "FieldBehaviorComentsMessage",
      package: "testapis.deprecation",
    },
  },
});

export type FieldBehaviorComentsMessagePostInput$Shape = {
  body: FieldBehaviorComentsMessage_Post["body"];
};

export const FieldBehaviorComentsMessagePostInput$Ref: InputObjectRef<
  FieldBehaviorComentsMessagePostInput$Shape
> = builder.inputRef<FieldBehaviorComentsMessagePostInput$Shape>(
  "FieldBehaviorComentsMessagePostInput",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.deprecation.FieldBehaviorComentsMessage.Post",
      name: "Post",
      package: "testapis.deprecation",
    },
  },
});
"
`;

exports[`multipkgs with ts-proto generates pothos DSLs: multipkgs/subpkg1/types.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/multipkgs/subpkg1/types.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../../builder";
import { SubpkgMessage } from "./testapis/multipkgs/subpkg1/types";

export const SubpkgMessage$Ref = builder.objectRef<SubpkgMessage>(
  "SubpkgMessage",
);
builder.objectType(SubpkgMessage$Ref, {
  name: "SubpkgMessage",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as SubpkgMessage | { $type: string & {}; }).$type ===
      "testapis.multipkgs.subpkg1.SubpkgMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.multipkgs.subpkg1.SubpkgMessage",
      name: "SubpkgMessage",
      package: "testapis.multipkgs.subpkg1",
    },
  },
});

export type SubpkgMessageInput$Shape = { body: SubpkgMessage["body"]; };

export const SubpkgMessageInput$Ref: InputObjectRef<SubpkgMessageInput$Shape> =
  builder.inputRef<SubpkgMessageInput$Shape>("SubpkgMessageInput").implement({
    fields: (t) => ({
      body: t.field({
        type: "String",
        required: true,
        extensions: { protobufField: { name: "body", typeFullName: "string" } },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.multipkgs.subpkg1.SubpkgMessage",
        name: "SubpkgMessage",
        package: "testapis.multipkgs.subpkg1",
      },
    },
  });

export const SubpkgEnum$Ref = builder.enumType("SubpkgEnum", {
  values: {
    FOO: { value: 1, extensions: { protobufEnumValue: { name: "FOO" } } },
    BAR: { value: 2, extensions: { protobufEnumValue: { name: "BAR" } } },
  } as const,
  extensions: {
    protobufEnum: {
      name: "SubpkgEnum",
      fullName: "testapis.multipkgs.subpkg1.SubpkgEnum",
      package: "testapis.multipkgs.subpkg1",
    },
  },
});
"
`;

exports[`multipkgs with ts-proto generates pothos DSLs: multipkgs/subpkg2/types.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/multipkgs/subpkg2/types.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../../builder";
import {
  SubpkgEnum$Ref,
  SubpkgMessage$Ref,
  SubpkgMessageInput$Ref,
  SubpkgMessageInput$Shape,
} from "../subpkg1/types.pb.pothos";
import { SubpkgEnum } from "./testapis/multipkgs/subpkg1/types";
import { MessageWithSubpkg } from "./testapis/multipkgs/subpkg2/types";

export const MessageWithSubpkg$Ref = builder.objectRef<MessageWithSubpkg>(
  "MessageWithSubpkg",
);
builder.objectType(MessageWithSubpkg$Ref, {
  name: "MessageWithSubpkg",
  fields: (t) => ({
    message: t.expose("message", {
      type: SubpkgMessage$Ref,
      nullable: true,
      extensions: {
        protobufField: {
          name: "message",
          typeFullName: "testapis.multipkgs.subpkg1.SubpkgMessage",
        },
      },
    }),
    enum: t.field({
      type: SubpkgEnum$Ref,
      nullable: true,
      resolve: (source) => {
        if (source.enum === SubpkgEnum.SUBPKG_ENUM_UNSPECIFIED) {
          return null;
        }

        return source.enum;
      },
      extensions: {
        protobufField: {
          name: "enum",
          typeFullName: "testapis.multipkgs.subpkg1.SubpkgEnum",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as MessageWithSubpkg | { $type: string & {}; }).$type ===
      "testapis.multipkgs.subpkg1.MessageWithSubpkg";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.multipkgs.subpkg1.MessageWithSubpkg",
      name: "MessageWithSubpkg",
      package: "testapis.multipkgs.subpkg1",
    },
  },
});

export type MessageWithSubpkgInput$Shape = {
  message?: SubpkgMessageInput$Shape | null;
  enum?: MessageWithSubpkg["enum"] | null;
};

export const MessageWithSubpkgInput$Ref: InputObjectRef<
  MessageWithSubpkgInput$Shape
> = builder.inputRef<MessageWithSubpkgInput$Shape>("MessageWithSubpkgInput")
  .implement({
    fields: (t) => ({
      message: t.field({
        type: SubpkgMessageInput$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "message",
            typeFullName: "testapis.multipkgs.subpkg1.SubpkgMessage",
          },
        },
      }),
      enum: t.field({
        type: SubpkgEnum$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "enum",
            typeFullName: "testapis.multipkgs.subpkg1.SubpkgEnum",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.multipkgs.subpkg1.MessageWithSubpkg",
        name: "MessageWithSubpkg",
        package: "testapis.multipkgs.subpkg1",
      },
    },
  });
"
`;

exports[`nested protobuf types with ts-proto generates pothos DSLs: nested/nested.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/nested/nested.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import {
  ParentMessage,
  ParentMessage_NestedEnum,
  ParentMessage_NestedMessage,
} from "./testapis/nested/nested";

export const ParentMessage$Ref = builder.objectRef<ParentMessage>(
  "ParentMessage",
);
builder.objectType(ParentMessage$Ref, {
  name: "ParentMessage",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
    nested: t.expose("nested", {
      type: ParentMessageNestedMessage$Ref,
      nullable: true,
      extensions: {
        protobufField: {
          name: "nested",
          typeFullName: "testapis.nested.ParentMessage.NestedMessage",
        },
      },
    }),
    nestedEnum: t.field({
      type: ParentMessageNestedEnum$Ref,
      nullable: true,
      resolve: (source) => {
        if (
          source.nestedEnum === ParentMessage_NestedEnum.NESTED_ENUM_UNSPECIFIED
        ) {
          return null;
        }

        return source.nestedEnum;
      },
      extensions: {
        protobufField: {
          name: "nested_enum",
          typeFullName: "testapis.nested.ParentMessage.NestedEnum",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as ParentMessage | { $type: string & {}; }).$type ===
      "testapis.nested.ParentMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.nested.ParentMessage",
      name: "ParentMessage",
      package: "testapis.nested",
    },
  },
});

export const ParentMessageNestedMessage$Ref = builder.objectRef<
  ParentMessage_NestedMessage
>("ParentMessageNestedMessage");
builder.objectType(ParentMessageNestedMessage$Ref, {
  name: "ParentMessageNestedMessage",
  fields: (t) => ({
    nestedBody: t.expose("nestedBody", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: { name: "nested_body", typeFullName: "string" },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as ParentMessage_NestedMessage | { $type: string & {}; })
      .$type === "testapis.nested.ParentMessage.NestedMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.nested.ParentMessage.NestedMessage",
      name: "NestedMessage",
      package: "testapis.nested",
    },
  },
});

export type ParentMessageInput$Shape = {
  body: ParentMessage["body"];
  nested?: ParentMessageNestedMessageInput$Shape | null;
  nestedEnum?: ParentMessage["nestedEnum"] | null;
};

export const ParentMessageInput$Ref: InputObjectRef<ParentMessageInput$Shape> =
  builder.inputRef<ParentMessageInput$Shape>("ParentMessageInput").implement({
    fields: (t) => ({
      body: t.field({
        type: "String",
        required: true,
        extensions: { protobufField: { name: "body", typeFullName: "string" } },
      }),
      nested: t.field({
        type: ParentMessageNestedMessageInput$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "nested",
            typeFullName: "testapis.nested.ParentMessage.NestedMessage",
          },
        },
      }),
      nestedEnum: t.field({
        type: ParentMessageNestedEnum$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "nested_enum",
            typeFullName: "testapis.nested.ParentMessage.NestedEnum",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.nested.ParentMessage",
        name: "ParentMessage",
        package: "testapis.nested",
      },
    },
  });

export type ParentMessageNestedMessageInput$Shape = {
  nestedBody: ParentMessage_NestedMessage["nestedBody"];
};

export const ParentMessageNestedMessageInput$Ref: InputObjectRef<
  ParentMessageNestedMessageInput$Shape
> = builder.inputRef<ParentMessageNestedMessageInput$Shape>(
  "ParentMessageNestedMessageInput",
).implement({
  fields: (t) => ({
    nestedBody: t.field({
      type: "String",
      required: true,
      extensions: {
        protobufField: { name: "nested_body", typeFullName: "string" },
      },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.nested.ParentMessage.NestedMessage",
      name: "NestedMessage",
      package: "testapis.nested",
    },
  },
});

export const ParentMessageNestedEnum$Ref = builder.enumType(
  "ParentMessageNestedEnum",
  {
    values: {
      FOO: { value: 1, extensions: { protobufEnumValue: { name: "FOO" } } },
      BAR: { value: 2, extensions: { protobufEnumValue: { name: "BAR" } } },
    } as const,
    extensions: {
      protobufEnum: {
        name: "NestedEnum",
        fullName: "testapis.nested.ParentMessage.NestedEnum",
        package: "testapis.nested",
      },
    },
  },
);
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixIgnoredMessageNotIgnored.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { builder } from "../../builder";
import { IgnoredMessage_NotIgnored } from "./testapis/extensions/extensions";

export const TestPrefixIgnoredMessageNotIgnored$Ref = builder.objectRef<
  IgnoredMessage_NotIgnored
>("TestPrefixIgnoredMessageNotIgnored");
builder.objectType(TestPrefixIgnoredMessageNotIgnored$Ref, {
  name: "TestPrefixIgnoredMessageNotIgnored",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as IgnoredMessage_NotIgnored | { $type: string & {}; })
      .$type === "testapis.extensions.IgnoredMessage.NotIgnored";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.IgnoredMessage.NotIgnored",
      name: "NotIgnored",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixIgnoredMessageNotIgnoredInput.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { IgnoredMessage_NotIgnored } from "./testapis/extensions/extensions";

export type TestPrefixIgnoredMessageNotIgnoredInput$Shape = {
  body: IgnoredMessage_NotIgnored["body"];
};

export const TestPrefixIgnoredMessageNotIgnoredInput$Ref: InputObjectRef<
  TestPrefixIgnoredMessageNotIgnoredInput$Shape
> = builder.inputRef<TestPrefixIgnoredMessageNotIgnoredInput$Shape>(
  "TestPrefixIgnoredMessageNotIgnoredInput",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.IgnoredMessage.NotIgnored",
      name: "NotIgnored",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixInterfaceMessage.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { builder } from "../../builder";
import { InterfaceMessage } from "./testapis/extensions/extensions";

export const TestPrefixInterfaceMessage$Ref = builder.interfaceRef<
  Pick<InterfaceMessage, "id">
>("TestPrefixInterfaceMessage");
builder.interfaceType(TestPrefixInterfaceMessage$Ref, {
  name: "TestPrefixInterfaceMessage",
  fields: (t) => ({
    id: t.expose("id", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.InterfaceMessage",
      name: "InterfaceMessage",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixInterfaceMessageInput.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { InterfaceMessage } from "./testapis/extensions/extensions";

export type TestPrefixInterfaceMessageInput$Shape = {
  id: InterfaceMessage["id"];
};

export const TestPrefixInterfaceMessageInput$Ref: InputObjectRef<
  TestPrefixInterfaceMessageInput$Shape
> = builder.inputRef<TestPrefixInterfaceMessageInput$Shape>(
  "TestPrefixInterfaceMessageInput",
).implement({
  fields: (t) => ({
    id: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.InterfaceMessage",
      name: "InterfaceMessage",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixInterfaceMessageType.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { builder } from "../../builder";

export const TestPrefixInterfaceMessageType$Ref = builder.enumType(
  "TestPrefixInterfaceMessageType",
  {
    values: {
      INNER: { value: 1, extensions: { protobufEnumValue: { name: "INNER" } } },
      INNER2: {
        value: 2,
        extensions: { protobufEnumValue: { name: "INNER2" } },
      },
    } as const,
    extensions: {
      protobufEnum: {
        name: "Type",
        fullName: "testapis.extensions.InterfaceMessage.Type",
        package: "testapis.extensions",
      },
    },
  },
);
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixPrefixedEnum.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { builder } from "../../builder";

export const TestPrefixPrefixedEnum$Ref = builder.enumType(
  "TestPrefixPrefixedEnum",
  {
    values: {
      PREFIXED_FOO: {
        value: 1,
        extensions: { protobufEnumValue: { name: "PREFIXED_FOO" } },
      },
      PREFIXED_BAR: {
        value: 2,
        extensions: { protobufEnumValue: { name: "PREFIXED_BAR" } },
      },
    } as const,
    extensions: {
      protobufEnum: {
        name: "PrefixedEnum",
        fullName: "testapis.extensions.PrefixedEnum",
        package: "testapis.extensions",
      },
    },
  },
);
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixPrefixedMessage.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { builder } from "../../builder";
import { TestPrefixIgnoredMessageNotIgnored$Ref } from "./TestPrefixIgnoredMessageNotIgnored.pothos";
import { TestPrefixPrefixedEnum$Ref } from "./TestPrefixPrefixedEnum.pothos";
import { TestPrefixPrefixedMessageSquashedMessage$Ref } from "./TestPrefixPrefixedMessageSquashedMessage.pothos";
import { TestPrefixRenamedMessage$Ref } from "./TestPrefixRenamedMessage.pothos";
import {
  PrefixedEnum,
  PrefixedMessage,
} from "./testapis/extensions/extensions";

export const TestPrefixPrefixedMessage$Ref = builder.objectRef<PrefixedMessage>(
  "TestPrefixPrefixedMessage",
);
builder.objectType(TestPrefixPrefixedMessage$Ref, {
  name: "TestPrefixPrefixedMessage",
  fields: (t) => ({
    id: t.expose("id", {
      type: "String",
      nullable: false,
      description: "Output only.",
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
    prefixedEnum: t.field({
      type: TestPrefixPrefixedEnum$Ref,
      nullable: true,
      resolve: (source) => {
        if (source.prefixedEnum === PrefixedEnum.PREFIXED_ENUM_UNSPECIFIED) {
          return null;
        }

        if (source.prefixedEnum === PrefixedEnum.PREFIXED_IGNORED) {
          throw new Error("PREFIXED_IGNORED is ignored in GraphQL schema");
        }

        return source.prefixedEnum;
      },
      extensions: {
        protobufField: {
          name: "prefixed_enum",
          typeFullName: "testapis.extensions.PrefixedEnum",
        },
      },
    }),
    notIgnoredMessage: t.expose("notIgnoredMessage", {
      type: TestPrefixIgnoredMessageNotIgnored$Ref,
      nullable: true,
      extensions: {
        protobufField: {
          name: "not_ignored_message",
          typeFullName: "testapis.extensions.IgnoredMessage.NotIgnored",
        },
      },
    }),
    squashedMessage: t.field({
      type: TestPrefixPrefixedMessageSquashedMessage$Ref,
      nullable: true,
      resolve: (source) => {
        const value = source.squashedMessage?.oneofField ??
          source.squashedMessage?.oneofField2;
        if (value == null) {
          return null;
        }
        return value;
      },
      extensions: {
        protobufField: {
          name: "squashed_message",
          typeFullName: "testapis.extensions.PrefixedMessage.SquashedMessage",
        },
      },
    }),
    thisFieldWasRenamed: t.expose("thisFieldWillBeRenamed", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "this_field_will_be_renamed",
          typeFullName: "string",
        },
      },
    }),
    skipResolver: t.expose("skipResolver", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: { name: "skip_resolver", typeFullName: "string" },
      },
    }),
    squashedMessages: t.field({
      type: [TestPrefixPrefixedMessageSquashedMessage$Ref],
      nullable: { list: true, items: false },
      resolve: (source) => {
        return source.squashedMessages.map((item) => {
          const value = item?.oneofField ?? item?.oneofField2;
          if (value == null) {
            throw new Error("squashedMessages should not be null");
          }
          return value;
        });
      },
      extensions: {
        protobufField: {
          name: "squashed_messages",
          typeFullName: "testapis.extensions.PrefixedMessage.SquashedMessage",
        },
      },
    }),
    renamedMessage: t.expose("renamedMessage", {
      type: TestPrefixRenamedMessage$Ref,
      nullable: true,
      extensions: {
        protobufField: {
          name: "renamed_message",
          typeFullName: "testapis.extensions.MessageWillRename",
        },
      },
    }),
    partialIgnoreOneof: t.field({
      type: TestPrefixPrefixedMessagePartialIgnoreOneof$Ref,
      nullable: true,
      resolve: (source) => {
        const value = source.oneofNotIgnoredField;
        if (value == null) {
          return null;
        }
        return value;
      },
      extensions: { protobufField: { name: "partial_ignore_oneof" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as PrefixedMessage | { $type: string & {}; }).$type ===
      "testapis.extensions.PrefixedMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage",
      name: "PrefixedMessage",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixPrefixedMessageInnerMessage.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { builder } from "../../builder";
import { PrefixedMessage_InnerMessage } from "./testapis/extensions/extensions";

export const TestPrefixPrefixedMessageInnerMessage$Ref = builder.objectRef<
  PrefixedMessage_InnerMessage
>("TestPrefixPrefixedMessageInnerMessage");
builder.objectType(TestPrefixPrefixedMessageInnerMessage$Ref, {
  name: "TestPrefixPrefixedMessageInnerMessage",
  fields: (t) => ({
    id: t.expose("id", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as PrefixedMessage_InnerMessage | { $type: string & {}; })
      .$type === "testapis.extensions.PrefixedMessage.InnerMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage.InnerMessage",
      name: "InnerMessage",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixPrefixedMessageInnerMessage2.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { builder } from "../../builder";
import { PrefixedMessage_InnerMessage2 } from "./testapis/extensions/extensions";

export const TestPrefixPrefixedMessageInnerMessage2$Ref = builder.objectRef<
  PrefixedMessage_InnerMessage2
>("TestPrefixPrefixedMessageInnerMessage2");
builder.objectType(TestPrefixPrefixedMessageInnerMessage2$Ref, {
  name: "TestPrefixPrefixedMessageInnerMessage2",
  fields: (t) => ({
    id: t.expose("id", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as PrefixedMessage_InnerMessage2 | { $type: string & {}; })
      .$type === "testapis.extensions.PrefixedMessage.InnerMessage2";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage.InnerMessage2",
      name: "InnerMessage2",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixPrefixedMessageInnerMessage2Input.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { PrefixedMessage_InnerMessage2 } from "./testapis/extensions/extensions";

export type TestPrefixPrefixedMessageInnerMessage2Input$Shape = {
  id: PrefixedMessage_InnerMessage2["id"];
  body: PrefixedMessage_InnerMessage2["body"];
};

export const TestPrefixPrefixedMessageInnerMessage2Input$Ref: InputObjectRef<
  TestPrefixPrefixedMessageInnerMessage2Input$Shape
> = builder.inputRef<TestPrefixPrefixedMessageInnerMessage2Input$Shape>(
  "TestPrefixPrefixedMessageInnerMessage2Input",
).implement({
  fields: (t) => ({
    id: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage.InnerMessage2",
      name: "InnerMessage2",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixPrefixedMessageInnerMessageInput.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { PrefixedMessage_InnerMessage } from "./testapis/extensions/extensions";

export type TestPrefixPrefixedMessageInnerMessageInput$Shape = {
  id: PrefixedMessage_InnerMessage["id"];
  body: PrefixedMessage_InnerMessage["body"];
};

export const TestPrefixPrefixedMessageInnerMessageInput$Ref: InputObjectRef<
  TestPrefixPrefixedMessageInnerMessageInput$Shape
> = builder.inputRef<TestPrefixPrefixedMessageInnerMessageInput$Shape>(
  "TestPrefixPrefixedMessageInnerMessageInput",
).implement({
  fields: (t) => ({
    id: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage.InnerMessage",
      name: "InnerMessage",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixPrefixedMessageInput.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import {
  TestPrefixIgnoredMessageNotIgnoredInput$Ref,
  TestPrefixIgnoredMessageNotIgnoredInput$Shape,
} from "./TestPrefixIgnoredMessageNotIgnoredInput.pothos";
import { TestPrefixPrefixedEnum$Ref } from "./TestPrefixPrefixedEnum.pothos";
import {
  TestPrefixPrefixedMessageInnerMessageInput$Ref,
  TestPrefixPrefixedMessageInnerMessageInput$Shape,
} from "./TestPrefixPrefixedMessageInnerMessageInput.pothos";
import {
  TestPrefixPrefixedMessageSquashedMessageInput$Ref,
  TestPrefixPrefixedMessageSquashedMessageInput$Shape,
} from "./TestPrefixPrefixedMessageSquashedMessageInput.pothos";
import {
  TestPrefixRenamedMessageInput$Ref,
  TestPrefixRenamedMessageInput$Shape,
} from "./TestPrefixRenamedMessageInput.pothos";
import { PrefixedMessage } from "./testapis/extensions/extensions";

export type TestPrefixPrefixedMessageInput$Shape = {
  body: PrefixedMessage["body"];
  prefixedEnum?: PrefixedMessage["prefixedEnum"] | null;
  notIgnoredMessage?: TestPrefixIgnoredMessageNotIgnoredInput$Shape | null;
  squashedMessage?: TestPrefixPrefixedMessageSquashedMessageInput$Shape | null;
  thisFieldWasRenamed: PrefixedMessage["thisFieldWillBeRenamed"];
  oneofNotIgnoredField?:
    | TestPrefixPrefixedMessageInnerMessageInput$Shape
    | null;
  skipResolver: PrefixedMessage["skipResolver"];
  squashedMessages?:
    | Array<TestPrefixPrefixedMessageSquashedMessageInput$Shape>
    | null;
  renamedMessage?: TestPrefixRenamedMessageInput$Shape | null;
};

export const TestPrefixPrefixedMessageInput$Ref: InputObjectRef<
  TestPrefixPrefixedMessageInput$Shape
> = builder.inputRef<TestPrefixPrefixedMessageInput$Shape>(
  "TestPrefixPrefixedMessageInput",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
    prefixedEnum: t.field({
      type: TestPrefixPrefixedEnum$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "prefixed_enum",
          typeFullName: "testapis.extensions.PrefixedEnum",
        },
      },
    }),
    notIgnoredMessage: t.field({
      type: TestPrefixIgnoredMessageNotIgnoredInput$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "not_ignored_message",
          typeFullName: "testapis.extensions.IgnoredMessage.NotIgnored",
        },
      },
    }),
    squashedMessage: t.field({
      type: TestPrefixPrefixedMessageSquashedMessageInput$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "squashed_message",
          typeFullName: "testapis.extensions.PrefixedMessage.SquashedMessage",
        },
      },
    }),
    thisFieldWasRenamed: t.field({
      type: "String",
      required: true,
      extensions: {
        protobufField: {
          name: "this_field_will_be_renamed",
          typeFullName: "string",
        },
      },
    }),
    oneofNotIgnoredField: t.field({
      type: TestPrefixPrefixedMessageInnerMessageInput$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "oneof_not_ignored_field",
          typeFullName: "testapis.extensions.PrefixedMessage.InnerMessage",
        },
      },
    }),
    skipResolver: t.field({
      type: "String",
      required: true,
      extensions: {
        protobufField: { name: "skip_resolver", typeFullName: "string" },
      },
    }),
    squashedMessages: t.field({
      type: [TestPrefixPrefixedMessageSquashedMessageInput$Ref],
      required: { list: false, items: true },
      extensions: {
        protobufField: {
          name: "squashed_messages",
          typeFullName: "testapis.extensions.PrefixedMessage.SquashedMessage",
        },
      },
    }),
    renamedMessage: t.field({
      type: TestPrefixRenamedMessageInput$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "renamed_message",
          typeFullName: "testapis.extensions.MessageWillRename",
        },
      },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage",
      name: "PrefixedMessage",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixPrefixedMessagePartialIgnoreOneof.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { builder } from "../../builder";

export const TestPrefixPrefixedMessagePartialIgnoreOneof$Ref = builder
  .unionType("TestPrefixPrefixedMessagePartialIgnoreOneof", {
    types: [TestPrefixPrefixedMessageInnerMessage$Ref],
    extensions: {
      protobufOneof: {
        fullName: "testapis.extensions.PrefixedMessage.partial_ignore_oneof",
        name: "partial_ignore_oneof",
        messageName: "PrefixedMessage",
        package: "testapis.extensions",
        fields: [{
          name: "oneof_not_ignored_field",
          type: "testapis.extensions.PrefixedMessage.InnerMessage",
        }],
      },
    },
  });
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixPrefixedMessageSquashedMessage.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { builder } from "../../builder";

export const TestPrefixPrefixedMessageSquashedMessage$Ref = builder.unionType(
  "TestPrefixPrefixedMessageSquashedMessage",
  {
    types: [
      TestPrefixPrefixedMessageInnerMessage$Ref,
      TestPrefixPrefixedMessageInnerMessage2$Ref,
    ],
    extensions: {
      protobufOneof: {
        fullName: "testapis.extensions.PrefixedMessage.SquashedMessage",
        name: "SquashedMessage",
        package: "testapis.extensions",
        fields: [{
          name: "oneof_field",
          type: "testapis.extensions.PrefixedMessage.InnerMessage",
        }, {
          name: "oneof_field_2",
          type: "testapis.extensions.PrefixedMessage.InnerMessage2",
        }],
      },
    },
  },
);
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixPrefixedMessageSquashedMessageInput.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import {
  TestPrefixPrefixedMessageInnerMessage2Input$Ref,
  TestPrefixPrefixedMessageInnerMessage2Input$Shape,
} from "./TestPrefixPrefixedMessageInnerMessage2Input.pothos";
import {
  TestPrefixPrefixedMessageInnerMessageInput$Ref,
  TestPrefixPrefixedMessageInnerMessageInput$Shape,
} from "./TestPrefixPrefixedMessageInnerMessageInput.pothos";

export type TestPrefixPrefixedMessageSquashedMessageInput$Shape = {
  oneofField?: TestPrefixPrefixedMessageInnerMessageInput$Shape | null;
  oneofField2?: TestPrefixPrefixedMessageInnerMessage2Input$Shape | null;
};

export const TestPrefixPrefixedMessageSquashedMessageInput$Ref: InputObjectRef<
  TestPrefixPrefixedMessageSquashedMessageInput$Shape
> = builder.inputRef<TestPrefixPrefixedMessageSquashedMessageInput$Shape>(
  "TestPrefixPrefixedMessageSquashedMessageInput",
).implement({
  fields: (t) => ({
    oneofField: t.field({
      type: TestPrefixPrefixedMessageInnerMessageInput$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "oneof_field",
          typeFullName: "testapis.extensions.PrefixedMessage.InnerMessage",
        },
      },
    }),
    oneofField2: t.field({
      type: TestPrefixPrefixedMessageInnerMessage2Input$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "oneof_field_2",
          typeFullName: "testapis.extensions.PrefixedMessage.InnerMessage2",
        },
      },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage.SquashedMessage",
      name: "SquashedMessage",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixRenamedMessage.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { builder } from "../../builder";
import { MessageWillRename } from "./testapis/extensions/extensions";

export const TestPrefixRenamedMessage$Ref = builder.objectRef<
  MessageWillRename
>("TestPrefixRenamedMessage");
builder.objectType(TestPrefixRenamedMessage$Ref, {
  name: "TestPrefixRenamedMessage",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as MessageWillRename | { $type: string & {}; }).$type ===
      "testapis.extensions.MessageWillRename";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.MessageWillRename",
      name: "MessageWillRename",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options generates pothos DSLs with graphql_type file layout: extensions/TestPrefixRenamedMessageInput.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { MessageWillRename } from "./testapis/extensions/extensions";

export type TestPrefixRenamedMessageInput$Shape = {
  body: MessageWillRename["body"];
};

export const TestPrefixRenamedMessageInput$Ref: InputObjectRef<
  TestPrefixRenamedMessageInput$Shape
> = builder.inputRef<TestPrefixRenamedMessageInput$Shape>(
  "TestPrefixRenamedMessageInput",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.MessageWillRename",
      name: "MessageWillRename",
      package: "testapis.extensions",
    },
  },
});
"
`;

exports[`protobuf custom options with ts-proto generates pothos DSLs: extensions/extensions.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/extensions.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import {
  IgnoredMessage_NotIgnored,
  InterfaceMessage,
  MessageWillRename,
  PrefixedEnum,
  PrefixedMessage,
  PrefixedMessage_InnerMessage,
  PrefixedMessage_InnerMessage2,
} from "./testapis/extensions/extensions";

export const TestPrefixPrefixedMessage$Ref = builder.objectRef<PrefixedMessage>(
  "TestPrefixPrefixedMessage",
);
builder.objectType(TestPrefixPrefixedMessage$Ref, {
  name: "TestPrefixPrefixedMessage",
  fields: (t) => ({
    id: t.expose("id", {
      type: "String",
      nullable: false,
      description: "Output only.",
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
    prefixedEnum: t.field({
      type: TestPrefixPrefixedEnum$Ref,
      nullable: true,
      resolve: (source) => {
        if (source.prefixedEnum === PrefixedEnum.PREFIXED_ENUM_UNSPECIFIED) {
          return null;
        }

        if (source.prefixedEnum === PrefixedEnum.PREFIXED_IGNORED) {
          throw new Error("PREFIXED_IGNORED is ignored in GraphQL schema");
        }

        return source.prefixedEnum;
      },
      extensions: {
        protobufField: {
          name: "prefixed_enum",
          typeFullName: "testapis.extensions.PrefixedEnum",
        },
      },
    }),
    notIgnoredMessage: t.expose("notIgnoredMessage", {
      type: TestPrefixIgnoredMessageNotIgnored$Ref,
      nullable: true,
      extensions: {
        protobufField: {
          name: "not_ignored_message",
          typeFullName: "testapis.extensions.IgnoredMessage.NotIgnored",
        },
      },
    }),
    squashedMessage: t.field({
      type: TestPrefixPrefixedMessageSquashedMessage$Ref,
      nullable: true,
      resolve: (source) => {
        const value = source.squashedMessage?.oneofField ??
          source.squashedMessage?.oneofField2;
        if (value == null) {
          return null;
        }
        return value;
      },
      extensions: {
        protobufField: {
          name: "squashed_message",
          typeFullName: "testapis.extensions.PrefixedMessage.SquashedMessage",
        },
      },
    }),
    thisFieldWasRenamed: t.expose("thisFieldWillBeRenamed", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "this_field_will_be_renamed",
          typeFullName: "string",
        },
      },
    }),
    skipResolver: t.expose("skipResolver", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: { name: "skip_resolver", typeFullName: "string" },
      },
    }),
    squashedMessages: t.field({
      type: [TestPrefixPrefixedMessageSquashedMessage$Ref],
      nullable: { list: true, items: false },
      resolve: (source) => {
        return source.squashedMessages.map((item) => {
          const value = item?.oneofField ?? item?.oneofField2;
          if (value == null) {
            throw new Error("squashedMessages should not be null");
          }
          return value;
        });
      },
      extensions: {
        protobufField: {
          name: "squashed_messages",
          typeFullName: "testapis.extensions.PrefixedMessage.SquashedMessage",
        },
      },
    }),
    renamedMessage: t.expose("renamedMessage", {
      type: TestPrefixRenamedMessage$Ref,
      nullable: true,
      extensions: {
        protobufField: {
          name: "renamed_message",
          typeFullName: "testapis.extensions.MessageWillRename",
        },
      },
    }),
    partialIgnoreOneof: t.field({
      type: TestPrefixPrefixedMessagePartialIgnoreOneof$Ref,
      nullable: true,
      resolve: (source) => {
        const value = source.oneofNotIgnoredField;
        if (value == null) {
          return null;
        }
        return value;
      },
      extensions: { protobufField: { name: "partial_ignore_oneof" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as PrefixedMessage | { $type: string & {}; }).$type ===
      "testapis.extensions.PrefixedMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage",
      name: "PrefixedMessage",
      package: "testapis.extensions",
    },
  },
});

export const TestPrefixRenamedMessage$Ref = builder.objectRef<
  MessageWillRename
>("TestPrefixRenamedMessage");
builder.objectType(TestPrefixRenamedMessage$Ref, {
  name: "TestPrefixRenamedMessage",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as MessageWillRename | { $type: string & {}; }).$type ===
      "testapis.extensions.MessageWillRename";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.MessageWillRename",
      name: "MessageWillRename",
      package: "testapis.extensions",
    },
  },
});

export const TestPrefixPrefixedMessageInnerMessage$Ref = builder.objectRef<
  PrefixedMessage_InnerMessage
>("TestPrefixPrefixedMessageInnerMessage");
builder.objectType(TestPrefixPrefixedMessageInnerMessage$Ref, {
  name: "TestPrefixPrefixedMessageInnerMessage",
  fields: (t) => ({
    id: t.expose("id", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as PrefixedMessage_InnerMessage | { $type: string & {}; })
      .$type === "testapis.extensions.PrefixedMessage.InnerMessage";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage.InnerMessage",
      name: "InnerMessage",
      package: "testapis.extensions",
    },
  },
});

export const TestPrefixPrefixedMessageInnerMessage2$Ref = builder.objectRef<
  PrefixedMessage_InnerMessage2
>("TestPrefixPrefixedMessageInnerMessage2");
builder.objectType(TestPrefixPrefixedMessageInnerMessage2$Ref, {
  name: "TestPrefixPrefixedMessageInnerMessage2",
  fields: (t) => ({
    id: t.expose("id", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as PrefixedMessage_InnerMessage2 | { $type: string & {}; })
      .$type === "testapis.extensions.PrefixedMessage.InnerMessage2";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage.InnerMessage2",
      name: "InnerMessage2",
      package: "testapis.extensions",
    },
  },
});

export const TestPrefixIgnoredMessageNotIgnored$Ref = builder.objectRef<
  IgnoredMessage_NotIgnored
>("TestPrefixIgnoredMessageNotIgnored");
builder.objectType(TestPrefixIgnoredMessageNotIgnored$Ref, {
  name: "TestPrefixIgnoredMessageNotIgnored",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as IgnoredMessage_NotIgnored | { $type: string & {}; })
      .$type === "testapis.extensions.IgnoredMessage.NotIgnored";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.IgnoredMessage.NotIgnored",
      name: "NotIgnored",
      package: "testapis.extensions",
    },
  },
});

export type TestPrefixPrefixedMessageInput$Shape = {
  body: PrefixedMessage["body"];
  prefixedEnum?: PrefixedMessage["prefixedEnum"] | null;
  notIgnoredMessage?: TestPrefixIgnoredMessageNotIgnoredInput$Shape | null;
  squashedMessage?: TestPrefixPrefixedMessageSquashedMessageInput$Shape | null;
  thisFieldWasRenamed: PrefixedMessage["thisFieldWillBeRenamed"];
  oneofNotIgnoredField?:
    | TestPrefixPrefixedMessageInnerMessageInput$Shape
    | null;
  skipResolver: PrefixedMessage["skipResolver"];
  squashedMessages?:
    | Array<TestPrefixPrefixedMessageSquashedMessageInput$Shape>
    | null;
  renamedMessage?: TestPrefixRenamedMessageInput$Shape | null;
};

export const TestPrefixPrefixedMessageInput$Ref: InputObjectRef<
  TestPrefixPrefixedMessageInput$Shape
> = builder.inputRef<TestPrefixPrefixedMessageInput$Shape>(
  "TestPrefixPrefixedMessageInput",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
    prefixedEnum: t.field({
      type: TestPrefixPrefixedEnum$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "prefixed_enum",
          typeFullName: "testapis.extensions.PrefixedEnum",
        },
      },
    }),
    notIgnoredMessage: t.field({
      type: TestPrefixIgnoredMessageNotIgnoredInput$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "not_ignored_message",
          typeFullName: "testapis.extensions.IgnoredMessage.NotIgnored",
        },
      },
    }),
    squashedMessage: t.field({
      type: TestPrefixPrefixedMessageSquashedMessageInput$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "squashed_message",
          typeFullName: "testapis.extensions.PrefixedMessage.SquashedMessage",
        },
      },
    }),
    thisFieldWasRenamed: t.field({
      type: "String",
      required: true,
      extensions: {
        protobufField: {
          name: "this_field_will_be_renamed",
          typeFullName: "string",
        },
      },
    }),
    oneofNotIgnoredField: t.field({
      type: TestPrefixPrefixedMessageInnerMessageInput$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "oneof_not_ignored_field",
          typeFullName: "testapis.extensions.PrefixedMessage.InnerMessage",
        },
      },
    }),
    skipResolver: t.field({
      type: "String",
      required: true,
      extensions: {
        protobufField: { name: "skip_resolver", typeFullName: "string" },
      },
    }),
    squashedMessages: t.field({
      type: [TestPrefixPrefixedMessageSquashedMessageInput$Ref],
      required: { list: false, items: true },
      extensions: {
        protobufField: {
          name: "squashed_messages",
          typeFullName: "testapis.extensions.PrefixedMessage.SquashedMessage",
        },
      },
    }),
    renamedMessage: t.field({
      type: TestPrefixRenamedMessageInput$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "renamed_message",
          typeFullName: "testapis.extensions.MessageWillRename",
        },
      },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage",
      name: "PrefixedMessage",
      package: "testapis.extensions",
    },
  },
});

export type TestPrefixRenamedMessageInput$Shape = {
  body: MessageWillRename["body"];
};

export const TestPrefixRenamedMessageInput$Ref: InputObjectRef<
  TestPrefixRenamedMessageInput$Shape
> = builder.inputRef<TestPrefixRenamedMessageInput$Shape>(
  "TestPrefixRenamedMessageInput",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.MessageWillRename",
      name: "MessageWillRename",
      package: "testapis.extensions",
    },
  },
});

export type TestPrefixInterfaceMessageInput$Shape = {
  id: InterfaceMessage["id"];
};

export const TestPrefixInterfaceMessageInput$Ref: InputObjectRef<
  TestPrefixInterfaceMessageInput$Shape
> = builder.inputRef<TestPrefixInterfaceMessageInput$Shape>(
  "TestPrefixInterfaceMessageInput",
).implement({
  fields: (t) => ({
    id: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.InterfaceMessage",
      name: "InterfaceMessage",
      package: "testapis.extensions",
    },
  },
});

export type TestPrefixPrefixedMessageInnerMessageInput$Shape = {
  id: PrefixedMessage_InnerMessage["id"];
  body: PrefixedMessage_InnerMessage["body"];
};

export const TestPrefixPrefixedMessageInnerMessageInput$Ref: InputObjectRef<
  TestPrefixPrefixedMessageInnerMessageInput$Shape
> = builder.inputRef<TestPrefixPrefixedMessageInnerMessageInput$Shape>(
  "TestPrefixPrefixedMessageInnerMessageInput",
).implement({
  fields: (t) => ({
    id: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage.InnerMessage",
      name: "InnerMessage",
      package: "testapis.extensions",
    },
  },
});

export type TestPrefixPrefixedMessageInnerMessage2Input$Shape = {
  id: PrefixedMessage_InnerMessage2["id"];
  body: PrefixedMessage_InnerMessage2["body"];
};

export const TestPrefixPrefixedMessageInnerMessage2Input$Ref: InputObjectRef<
  TestPrefixPrefixedMessageInnerMessage2Input$Shape
> = builder.inputRef<TestPrefixPrefixedMessageInnerMessage2Input$Shape>(
  "TestPrefixPrefixedMessageInnerMessage2Input",
).implement({
  fields: (t) => ({
    id: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage.InnerMessage2",
      name: "InnerMessage2",
      package: "testapis.extensions",
    },
  },
});

export type TestPrefixPrefixedMessageSquashedMessageInput$Shape = {
  oneofField?: TestPrefixPrefixedMessageInnerMessageInput$Shape | null;
  oneofField2?: TestPrefixPrefixedMessageInnerMessage2Input$Shape | null;
};

export const TestPrefixPrefixedMessageSquashedMessageInput$Ref: InputObjectRef<
  TestPrefixPrefixedMessageSquashedMessageInput$Shape
> = builder.inputRef<TestPrefixPrefixedMessageSquashedMessageInput$Shape>(
  "TestPrefixPrefixedMessageSquashedMessageInput",
).implement({
  fields: (t) => ({
    oneofField: t.field({
      type: TestPrefixPrefixedMessageInnerMessageInput$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "oneof_field",
          typeFullName: "testapis.extensions.PrefixedMessage.InnerMessage",
        },
      },
    }),
    oneofField2: t.field({
      type: TestPrefixPrefixedMessageInnerMessage2Input$Ref,
      required: false,
      extensions: {
        protobufField: {
          name: "oneof_field_2",
          typeFullName: "testapis.extensions.PrefixedMessage.InnerMessage2",
        },
      },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.PrefixedMessage.SquashedMessage",
      name: "SquashedMessage",
      package: "testapis.extensions",
    },
  },
});

export type TestPrefixIgnoredMessageNotIgnoredInput$Shape = {
  body: IgnoredMessage_NotIgnored["body"];
};

export const TestPrefixIgnoredMessageNotIgnoredInput$Ref: InputObjectRef<
  TestPrefixIgnoredMessageNotIgnoredInput$Shape
> = builder.inputRef<TestPrefixIgnoredMessageNotIgnoredInput$Shape>(
  "TestPrefixIgnoredMessageNotIgnoredInput",
).implement({
  fields: (t) => ({
    body: t.field({
      type: "String",
      required: true,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.IgnoredMessage.NotIgnored",
      name: "NotIgnored",
      package: "testapis.extensions",
    },
  },
});

export const TestPrefixInterfaceMessage$Ref = builder.interfaceRef<
  Pick<InterfaceMessage, "id">
>("TestPrefixInterfaceMessage");
builder.interfaceType(TestPrefixInterfaceMessage$Ref, {
  name: "TestPrefixInterfaceMessage",
  fields: (t) => ({
    id: t.expose("id", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "id", typeFullName: "uint64" } },
    }),
  }),
  extensions: {
    protobufMessage: {
      fullName: "testapis.extensions.InterfaceMessage",
      name: "InterfaceMessage",
      package: "testapis.extensions",
    },
  },
});

export const TestPrefixPrefixedMessageSquashedMessage$Ref = builder.unionType(
  "TestPrefixPrefixedMessageSquashedMessage",
  {
    types: [
      TestPrefixPrefixedMessageInnerMessage$Ref,
      TestPrefixPrefixedMessageInnerMessage2$Ref,
    ],
    extensions: {
      protobufOneof: {
        fullName: "testapis.extensions.PrefixedMessage.SquashedMessage",
        name: "SquashedMessage",
        package: "testapis.extensions",
        fields: [{
          name: "oneof_field",
          type: "testapis.extensions.PrefixedMessage.InnerMessage",
        }, {
          name: "oneof_field_2",
          type: "testapis.extensions.PrefixedMessage.InnerMessage2",
        }],
      },
    },
  },
);

export const TestPrefixPrefixedMessagePartialIgnoreOneof$Ref = builder
  .unionType("TestPrefixPrefixedMessagePartialIgnoreOneof", {
    types: [TestPrefixPrefixedMessageInnerMessage$Ref],
    extensions: {
      protobufOneof: {
        fullName: "testapis.extensions.PrefixedMessage.partial_ignore_oneof",
        name: "partial_ignore_oneof",
        messageName: "PrefixedMessage",
        package: "testapis.extensions",
        fields: [{
          name: "oneof_not_ignored_field",
          type: "testapis.extensions.PrefixedMessage.InnerMessage",
        }],
      },
    },
  });

export const TestPrefixPrefixedEnum$Ref = builder.enumType(
  "TestPrefixPrefixedEnum",
  {
    values: {
      PREFIXED_FOO: {
        value: 1,
        extensions: { protobufEnumValue: { name: "PREFIXED_FOO" } },
      },
      PREFIXED_BAR: {
        value: 2,
        extensions: { protobufEnumValue: { name: "PREFIXED_BAR" } },
      },
    } as const,
    extensions: {
      protobufEnum: {
        name: "PrefixedEnum",
        fullName: "testapis.extensions.PrefixedEnum",
        package: "testapis.extensions",
      },
    },
  },
);

export const TestPrefixInterfaceMessageType$Ref = builder.enumType(
  "TestPrefixInterfaceMessageType",
  {
    values: {
      INNER: { value: 1, extensions: { protobufEnumValue: { name: "INNER" } } },
      INNER2: {
        value: 2,
        extensions: { protobufEnumValue: { name: "INNER2" } },
      },
    } as const,
    extensions: {
      protobufEnum: {
        name: "Type",
        fullName: "testapis.extensions.InterfaceMessage.Type",
        package: "testapis.extensions",
      },
    },
  },
);
"
`;

exports[`protobuf custom options with ts-proto generates pothos DSLs: extensions/ignored.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/extensions/ignored.proto

/* eslint-disable */

export {};
"
`;

exports[`protobuf enums generates pothos DSLs with graphql_type file layout: enums/MessageWithEnums.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/enums/enums.proto

/* eslint-disable */

import { builder } from "../../builder";
import { MyEnum$Ref } from "./MyEnum.pothos";
import { MyEnumWithoutUnspecified$Ref } from "./MyEnumWithoutUnspecified.pothos";
import { MessageWithEnums, MyEnum } from "./testapis/enums/enums";

export const MessageWithEnums$Ref = builder.objectRef<MessageWithEnums>(
  "MessageWithEnums",
);
builder.objectType(MessageWithEnums$Ref, {
  name: "MessageWithEnums",
  fields: (t) => ({
    requiredMyEnum: t.field({
      type: MyEnum$Ref,
      nullable: false,
      description: "Required.",
      resolve: (source) => {
        if (source.requiredMyEnum === MyEnum.MY_ENUM_UNSPECIFIED) {
          throw new Error(
            "requiredMyEnum is required field. But got unspecified.",
          );
        }

        return source.requiredMyEnum;
      },
      extensions: {
        protobufField: {
          name: "required_my_enum",
          typeFullName: "testapi.enums.MyEnum",
        },
      },
    }),
    optionalMyEnum: t.field({
      type: MyEnum$Ref,
      nullable: true,
      description: "Optional.",
      resolve: (source) => {
        if (source.optionalMyEnum === MyEnum.MY_ENUM_UNSPECIFIED) {
          return null;
        }

        return source.optionalMyEnum;
      },
      extensions: {
        protobufField: {
          name: "optional_my_enum",
          typeFullName: "testapi.enums.MyEnum",
        },
      },
    }),
    requiredMyEnumWithoutUnspecified: t.field({
      type: MyEnumWithoutUnspecified$Ref,
      nullable: false,
      description: "Required.",
      resolve: (source) => {
        return source.requiredMyEnumWithoutUnspecified;
      },
      extensions: {
        protobufField: {
          name: "required_my_enum_without_unspecified",
          typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
        },
      },
    }),
    optionalMyEnumWithoutUnspecified: t.field({
      type: MyEnumWithoutUnspecified$Ref,
      nullable: true,
      description: "Optional.",
      resolve: (source) => {
        return source.optionalMyEnumWithoutUnspecified;
      },
      extensions: {
        protobufField: {
          name: "optional_my_enum_without_unspecified",
          typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
        },
      },
    }),
    requiredMyEnums: t.field({
      type: [MyEnum$Ref],
      nullable: { list: false, items: false },
      description: "Required.",
      resolve: (source) => {
        return source.requiredMyEnums.map((item) => {
          if (item === MyEnum.MY_ENUM_UNSPECIFIED) {
            throw new Error(
              "requiredMyEnums is required field. But got unspecified.",
            );
          }

          return item;
        });
      },
      extensions: {
        protobufField: {
          name: "required_my_enums",
          typeFullName: "testapi.enums.MyEnum",
        },
      },
    }),
    optionalMyEnums: t.field({
      type: [MyEnum$Ref],
      nullable: { list: true, items: false },
      description: "Optional.",
      resolve: (source) => {
        return source.optionalMyEnums.map((item) => {
          if (item === MyEnum.MY_ENUM_UNSPECIFIED) {
            throw new Error(
              "optionalMyEnums is required field. But got unspecified.",
            );
          }

          return item;
        });
      },
      extensions: {
        protobufField: {
          name: "optional_my_enums",
          typeFullName: "testapi.enums.MyEnum",
        },
      },
    }),
    requiredMyEnumWithoutUnspecifieds: t.field({
      type: [MyEnumWithoutUnspecified$Ref],
      nullable: { list: false, items: false },
      description: "Required.",
      resolve: (source) => {
        return source.requiredMyEnumWithoutUnspecifieds;
      },
      extensions: {
        protobufField: {
          name: "required_my_enum_without_unspecifieds",
          typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
        },
      },
    }),
    optionalMyEnumWithoutUnspecifieds: t.field({
      type: [MyEnumWithoutUnspecified$Ref],
      nullable: { list: true, items: false },
      description: "Optional.",
      resolve: (source) => {
        return source.optionalMyEnumWithoutUnspecifieds;
      },
      extensions: {
        protobufField: {
          name: "optional_my_enum_without_unspecifieds",
          typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as MessageWithEnums | { $type: string & {}; }).$type ===
      "testapi.enums.MessageWithEnums";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapi.enums.MessageWithEnums",
      name: "MessageWithEnums",
      package: "testapi.enums",
    },
  },
});
"
`;

exports[`protobuf enums generates pothos DSLs with graphql_type file layout: enums/MessageWithEnumsInput.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/enums/enums.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { MyEnum$Ref } from "./MyEnum.pothos";
import { MyEnumWithoutUnspecified$Ref } from "./MyEnumWithoutUnspecified.pothos";
import { MessageWithEnums } from "./testapis/enums/enums";

export type MessageWithEnumsInput$Shape = {
  requiredMyEnum: MessageWithEnums["requiredMyEnum"];
  optionalMyEnum?: MessageWithEnums["optionalMyEnum"] | null;
  requiredMyEnumWithoutUnspecified:
    MessageWithEnums["requiredMyEnumWithoutUnspecified"];
  optionalMyEnumWithoutUnspecified?:
    | MessageWithEnums["optionalMyEnumWithoutUnspecified"]
    | null;
  requiredMyEnums: MessageWithEnums["requiredMyEnums"];
  optionalMyEnums?: MessageWithEnums["optionalMyEnums"] | null;
  requiredMyEnumWithoutUnspecifieds:
    MessageWithEnums["requiredMyEnumWithoutUnspecifieds"];
  optionalMyEnumWithoutUnspecifieds?:
    | MessageWithEnums["optionalMyEnumWithoutUnspecifieds"]
    | null;
};

export const MessageWithEnumsInput$Ref: InputObjectRef<
  MessageWithEnumsInput$Shape
> = builder.inputRef<MessageWithEnumsInput$Shape>("MessageWithEnumsInput")
  .implement({
    fields: (t) => ({
      requiredMyEnum: t.field({
        type: MyEnum$Ref,
        required: true,
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_my_enum",
            typeFullName: "testapi.enums.MyEnum",
          },
        },
      }),
      optionalMyEnum: t.field({
        type: MyEnum$Ref,
        required: false,
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_my_enum",
            typeFullName: "testapi.enums.MyEnum",
          },
        },
      }),
      requiredMyEnumWithoutUnspecified: t.field({
        type: MyEnumWithoutUnspecified$Ref,
        required: true,
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_my_enum_without_unspecified",
            typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
          },
        },
      }),
      optionalMyEnumWithoutUnspecified: t.field({
        type: MyEnumWithoutUnspecified$Ref,
        required: false,
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_my_enum_without_unspecified",
            typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
          },
        },
      }),
      requiredMyEnums: t.field({
        type: [MyEnum$Ref],
        required: { list: true, items: true },
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_my_enums",
            typeFullName: "testapi.enums.MyEnum",
          },
        },
      }),
      optionalMyEnums: t.field({
        type: [MyEnum$Ref],
        required: { list: false, items: true },
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_my_enums",
            typeFullName: "testapi.enums.MyEnum",
          },
        },
      }),
      requiredMyEnumWithoutUnspecifieds: t.field({
        type: [MyEnumWithoutUnspecified$Ref],
        required: { list: true, items: true },
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_my_enum_without_unspecifieds",
            typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
          },
        },
      }),
      optionalMyEnumWithoutUnspecifieds: t.field({
        type: [MyEnumWithoutUnspecified$Ref],
        required: { list: false, items: true },
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_my_enum_without_unspecifieds",
            typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapi.enums.MessageWithEnums",
        name: "MessageWithEnums",
        package: "testapi.enums",
      },
    },
  });
"
`;

exports[`protobuf enums generates pothos DSLs with graphql_type file layout: enums/MyEnum.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/enums/enums.proto

/* eslint-disable */

import { builder } from "../../builder";

export const MyEnum$Ref = builder.enumType("MyEnum", {
  values: {
    FOO: {
      value: 1,
      extensions: { protobufEnumValue: { name: "MY_ENUM_FOO" } },
    },
    BAR: {
      description: "This is Bar.",
      value: 2,
      extensions: { protobufEnumValue: { name: "MY_ENUM_BAR" } },
    },
    BAZ: {
      value: 3,
      extensions: { protobufEnumValue: { name: "MY_ENUM_BAZ" } },
    },
  } as const,
  extensions: {
    protobufEnum: {
      name: "MyEnum",
      fullName: "testapi.enums.MyEnum",
      package: "testapi.enums",
    },
  },
});
"
`;

exports[`protobuf enums generates pothos DSLs with graphql_type file layout: enums/MyEnumWithoutUnspecified.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/enums/enums.proto

/* eslint-disable */

import { builder } from "../../builder";

export const MyEnumWithoutUnspecified$Ref = builder.enumType(
  "MyEnumWithoutUnspecified",
  {
    values: {
      FOO: {
        value: 0,
        extensions: {
          protobufEnumValue: { name: "MY_ENUM_WITHOUT_UNSPECIFIED_FOO" },
        },
      },
      BAR: {
        value: 1,
        extensions: {
          protobufEnumValue: { name: "MY_ENUM_WITHOUT_UNSPECIFIED_BAR" },
        },
      },
      BAZ: {
        value: 2,
        extensions: {
          protobufEnumValue: { name: "MY_ENUM_WITHOUT_UNSPECIFIED_BAZ" },
        },
      },
    } as const,
    extensions: {
      protobufEnum: {
        name: "MyEnumWithoutUnspecified",
        fullName: "testapi.enums.MyEnumWithoutUnspecified",
        package: "testapi.enums",
      },
    },
  },
);
"
`;

exports[`protobuf enums with ts-proto generates pothos DSLs: enums/enums.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/enums/enums.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { MessageWithEnums, MyEnum } from "./testapis/enums/enums";

export const MessageWithEnums$Ref = builder.objectRef<MessageWithEnums>(
  "MessageWithEnums",
);
builder.objectType(MessageWithEnums$Ref, {
  name: "MessageWithEnums",
  fields: (t) => ({
    requiredMyEnum: t.field({
      type: MyEnum$Ref,
      nullable: false,
      description: "Required.",
      resolve: (source) => {
        if (source.requiredMyEnum === MyEnum.MY_ENUM_UNSPECIFIED) {
          throw new Error(
            "requiredMyEnum is required field. But got unspecified.",
          );
        }

        return source.requiredMyEnum;
      },
      extensions: {
        protobufField: {
          name: "required_my_enum",
          typeFullName: "testapi.enums.MyEnum",
        },
      },
    }),
    optionalMyEnum: t.field({
      type: MyEnum$Ref,
      nullable: true,
      description: "Optional.",
      resolve: (source) => {
        if (source.optionalMyEnum === MyEnum.MY_ENUM_UNSPECIFIED) {
          return null;
        }

        return source.optionalMyEnum;
      },
      extensions: {
        protobufField: {
          name: "optional_my_enum",
          typeFullName: "testapi.enums.MyEnum",
        },
      },
    }),
    requiredMyEnumWithoutUnspecified: t.field({
      type: MyEnumWithoutUnspecified$Ref,
      nullable: false,
      description: "Required.",
      resolve: (source) => {
        return source.requiredMyEnumWithoutUnspecified;
      },
      extensions: {
        protobufField: {
          name: "required_my_enum_without_unspecified",
          typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
        },
      },
    }),
    optionalMyEnumWithoutUnspecified: t.field({
      type: MyEnumWithoutUnspecified$Ref,
      nullable: true,
      description: "Optional.",
      resolve: (source) => {
        return source.optionalMyEnumWithoutUnspecified;
      },
      extensions: {
        protobufField: {
          name: "optional_my_enum_without_unspecified",
          typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
        },
      },
    }),
    requiredMyEnums: t.field({
      type: [MyEnum$Ref],
      nullable: { list: false, items: false },
      description: "Required.",
      resolve: (source) => {
        return source.requiredMyEnums.map((item) => {
          if (item === MyEnum.MY_ENUM_UNSPECIFIED) {
            throw new Error(
              "requiredMyEnums is required field. But got unspecified.",
            );
          }

          return item;
        });
      },
      extensions: {
        protobufField: {
          name: "required_my_enums",
          typeFullName: "testapi.enums.MyEnum",
        },
      },
    }),
    optionalMyEnums: t.field({
      type: [MyEnum$Ref],
      nullable: { list: true, items: false },
      description: "Optional.",
      resolve: (source) => {
        return source.optionalMyEnums.map((item) => {
          if (item === MyEnum.MY_ENUM_UNSPECIFIED) {
            throw new Error(
              "optionalMyEnums is required field. But got unspecified.",
            );
          }

          return item;
        });
      },
      extensions: {
        protobufField: {
          name: "optional_my_enums",
          typeFullName: "testapi.enums.MyEnum",
        },
      },
    }),
    requiredMyEnumWithoutUnspecifieds: t.field({
      type: [MyEnumWithoutUnspecified$Ref],
      nullable: { list: false, items: false },
      description: "Required.",
      resolve: (source) => {
        return source.requiredMyEnumWithoutUnspecifieds;
      },
      extensions: {
        protobufField: {
          name: "required_my_enum_without_unspecifieds",
          typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
        },
      },
    }),
    optionalMyEnumWithoutUnspecifieds: t.field({
      type: [MyEnumWithoutUnspecified$Ref],
      nullable: { list: true, items: false },
      description: "Optional.",
      resolve: (source) => {
        return source.optionalMyEnumWithoutUnspecifieds;
      },
      extensions: {
        protobufField: {
          name: "optional_my_enum_without_unspecifieds",
          typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as MessageWithEnums | { $type: string & {}; }).$type ===
      "testapi.enums.MessageWithEnums";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapi.enums.MessageWithEnums",
      name: "MessageWithEnums",
      package: "testapi.enums",
    },
  },
});

export type MessageWithEnumsInput$Shape = {
  requiredMyEnum: MessageWithEnums["requiredMyEnum"];
  optionalMyEnum?: MessageWithEnums["optionalMyEnum"] | null;
  requiredMyEnumWithoutUnspecified:
    MessageWithEnums["requiredMyEnumWithoutUnspecified"];
  optionalMyEnumWithoutUnspecified?:
    | MessageWithEnums["optionalMyEnumWithoutUnspecified"]
    | null;
  requiredMyEnums: MessageWithEnums["requiredMyEnums"];
  optionalMyEnums?: MessageWithEnums["optionalMyEnums"] | null;
  requiredMyEnumWithoutUnspecifieds:
    MessageWithEnums["requiredMyEnumWithoutUnspecifieds"];
  optionalMyEnumWithoutUnspecifieds?:
    | MessageWithEnums["optionalMyEnumWithoutUnspecifieds"]
    | null;
};

export const MessageWithEnumsInput$Ref: InputObjectRef<
  MessageWithEnumsInput$Shape
> = builder.inputRef<MessageWithEnumsInput$Shape>("MessageWithEnumsInput")
  .implement({
    fields: (t) => ({
      requiredMyEnum: t.field({
        type: MyEnum$Ref,
        required: true,
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_my_enum",
            typeFullName: "testapi.enums.MyEnum",
          },
        },
      }),
      optionalMyEnum: t.field({
        type: MyEnum$Ref,
        required: false,
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_my_enum",
            typeFullName: "testapi.enums.MyEnum",
          },
        },
      }),
      requiredMyEnumWithoutUnspecified: t.field({
        type: MyEnumWithoutUnspecified$Ref,
        required: true,
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_my_enum_without_unspecified",
            typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
          },
        },
      }),
      optionalMyEnumWithoutUnspecified: t.field({
        type: MyEnumWithoutUnspecified$Ref,
        required: false,
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_my_enum_without_unspecified",
            typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
          },
        },
      }),
      requiredMyEnums: t.field({
        type: [MyEnum$Ref],
        required: { list: true, items: true },
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_my_enums",
            typeFullName: "testapi.enums.MyEnum",
          },
        },
      }),
      optionalMyEnums: t.field({
        type: [MyEnum$Ref],
        required: { list: false, items: true },
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_my_enums",
            typeFullName: "testapi.enums.MyEnum",
          },
        },
      }),
      requiredMyEnumWithoutUnspecifieds: t.field({
        type: [MyEnumWithoutUnspecified$Ref],
        required: { list: true, items: true },
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_my_enum_without_unspecifieds",
            typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
          },
        },
      }),
      optionalMyEnumWithoutUnspecifieds: t.field({
        type: [MyEnumWithoutUnspecified$Ref],
        required: { list: false, items: true },
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_my_enum_without_unspecifieds",
            typeFullName: "testapi.enums.MyEnumWithoutUnspecified",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapi.enums.MessageWithEnums",
        name: "MessageWithEnums",
        package: "testapi.enums",
      },
    },
  });

export const MyEnum$Ref = builder.enumType("MyEnum", {
  values: {
    FOO: {
      value: 1,
      extensions: { protobufEnumValue: { name: "MY_ENUM_FOO" } },
    },
    BAR: {
      description: "This is Bar.",
      value: 2,
      extensions: { protobufEnumValue: { name: "MY_ENUM_BAR" } },
    },
    BAZ: {
      value: 3,
      extensions: { protobufEnumValue: { name: "MY_ENUM_BAZ" } },
    },
  } as const,
  extensions: {
    protobufEnum: {
      name: "MyEnum",
      fullName: "testapi.enums.MyEnum",
      package: "testapi.enums",
    },
  },
});

export const MyEnumWithoutUnspecified$Ref = builder.enumType(
  "MyEnumWithoutUnspecified",
  {
    values: {
      FOO: {
        value: 0,
        extensions: {
          protobufEnumValue: { name: "MY_ENUM_WITHOUT_UNSPECIFIED_FOO" },
        },
      },
      BAR: {
        value: 1,
        extensions: {
          protobufEnumValue: { name: "MY_ENUM_WITHOUT_UNSPECIFIED_BAR" },
        },
      },
      BAZ: {
        value: 2,
        extensions: {
          protobufEnumValue: { name: "MY_ENUM_WITHOUT_UNSPECIFIED_BAZ" },
        },
      },
    } as const,
    extensions: {
      protobufEnum: {
        name: "MyEnumWithoutUnspecified",
        fullName: "testapi.enums.MyEnumWithoutUnspecified",
        package: "testapi.enums",
      },
    },
  },
);
"
`;

exports[`protobuf oneof generates pothos DSLs with graphql_type file layout: oneof/OneofMemberMessage1.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/oneof/oneof.proto

/* eslint-disable */

import { builder } from "../../builder";
import { OneofMemberMessage1 } from "./testapis/oneof/oneof";

export const OneofMemberMessage1$Ref = builder.objectRef<OneofMemberMessage1>(
  "OneofMemberMessage1",
);
builder.objectType(OneofMemberMessage1$Ref, {
  name: "OneofMemberMessage1",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as OneofMemberMessage1 | { $type: string & {}; }).$type ===
      "testapis.oneof.OneofMemberMessage1";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.oneof.OneofMemberMessage1",
      name: "OneofMemberMessage1",
      package: "testapis.oneof",
    },
  },
});
"
`;

exports[`protobuf oneof generates pothos DSLs with graphql_type file layout: oneof/OneofMemberMessage1Input.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/oneof/oneof.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { OneofMemberMessage1 } from "./testapis/oneof/oneof";

export type OneofMemberMessage1Input$Shape = {
  body: OneofMemberMessage1["body"];
};

export const OneofMemberMessage1Input$Ref: InputObjectRef<
  OneofMemberMessage1Input$Shape
> = builder.inputRef<OneofMemberMessage1Input$Shape>("OneofMemberMessage1Input")
  .implement({
    fields: (t) => ({
      body: t.field({
        type: "String",
        required: true,
        extensions: { protobufField: { name: "body", typeFullName: "string" } },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.oneof.OneofMemberMessage1",
        name: "OneofMemberMessage1",
        package: "testapis.oneof",
      },
    },
  });
"
`;

exports[`protobuf oneof generates pothos DSLs with graphql_type file layout: oneof/OneofMemberMessage2.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/oneof/oneof.proto

/* eslint-disable */

import { builder } from "../../builder";
import { OneofMemberMessage2 } from "./testapis/oneof/oneof";

export const OneofMemberMessage2$Ref = builder.objectRef<OneofMemberMessage2>(
  "OneofMemberMessage2",
);
builder.objectType(OneofMemberMessage2$Ref, {
  name: "OneofMemberMessage2",
  fields: (t) => ({
    imageUrl: t.expose("imageUrl", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: { name: "image_url", typeFullName: "string" },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as OneofMemberMessage2 | { $type: string & {}; }).$type ===
      "testapis.oneof.OneofMemberMessage2";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.oneof.OneofMemberMessage2",
      name: "OneofMemberMessage2",
      package: "testapis.oneof",
    },
  },
});
"
`;

exports[`protobuf oneof generates pothos DSLs with graphql_type file layout: oneof/OneofMemberMessage2Input.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/oneof/oneof.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { OneofMemberMessage2 } from "./testapis/oneof/oneof";

export type OneofMemberMessage2Input$Shape = {
  imageUrl: OneofMemberMessage2["imageUrl"];
};

export const OneofMemberMessage2Input$Ref: InputObjectRef<
  OneofMemberMessage2Input$Shape
> = builder.inputRef<OneofMemberMessage2Input$Shape>("OneofMemberMessage2Input")
  .implement({
    fields: (t) => ({
      imageUrl: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: { name: "image_url", typeFullName: "string" },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.oneof.OneofMemberMessage2",
        name: "OneofMemberMessage2",
        package: "testapis.oneof",
      },
    },
  });
"
`;

exports[`protobuf oneof generates pothos DSLs with graphql_type file layout: oneof/OneofParent.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/oneof/oneof.proto

/* eslint-disable */

import { builder } from "../../builder";
import { OneofParent } from "./testapis/oneof/oneof";

export const OneofParent$Ref = builder.objectRef<OneofParent>("OneofParent");
builder.objectType(OneofParent$Ref, {
  name: "OneofParent",
  fields: (t) => ({
    normalField: t.expose("normalField", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: { name: "normal_field", typeFullName: "string" },
      },
    }),
    requiredOneofMembers: t.field({
      type: OneofParentRequiredOneofMembers$Ref,
      nullable: false,
      description: "Required. disallow not_set.",
      resolve: (source) => {
        const value = source.requiredMessage1 ?? source.requiredMessage2;
        if (value == null) {
          throw new Error("requiredOneofMembers should not be null");
        }
        return value;
      },
      extensions: { protobufField: { name: "required_oneof_members" } },
    }),
    optionalOneofMembers: t.field({
      type: OneofParentOptionalOneofMembers$Ref,
      nullable: true,
      resolve: (source) => {
        const value = source.optoinalMessage1 ?? source.optoinalMessage2;
        if (value == null) {
          return null;
        }
        return value;
      },
      extensions: { protobufField: { name: "optional_oneof_members" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as OneofParent | { $type: string & {}; }).$type ===
      "testapis.oneof.OneofParent";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.oneof.OneofParent",
      name: "OneofParent",
      package: "testapis.oneof",
    },
  },
});
"
`;

exports[`protobuf oneof generates pothos DSLs with graphql_type file layout: oneof/OneofParentInput.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/oneof/oneof.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import {
  OneofMemberMessage1Input$Ref,
  OneofMemberMessage1Input$Shape,
} from "./OneofMemberMessage1Input.pothos";
import {
  OneofMemberMessage2Input$Ref,
  OneofMemberMessage2Input$Shape,
} from "./OneofMemberMessage2Input.pothos";
import { OneofParent } from "./testapis/oneof/oneof";

export type OneofParentInput$Shape = {
  normalField: OneofParent["normalField"];
  requiredMessage1?: OneofMemberMessage1Input$Shape | null;
  requiredMessage2?: OneofMemberMessage2Input$Shape | null;
  optoinalMessage1?: OneofMemberMessage1Input$Shape | null;
  optoinalMessage2?: OneofMemberMessage2Input$Shape | null;
};

export const OneofParentInput$Ref: InputObjectRef<OneofParentInput$Shape> =
  builder.inputRef<OneofParentInput$Shape>("OneofParentInput").implement({
    fields: (t) => ({
      normalField: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: { name: "normal_field", typeFullName: "string" },
        },
      }),
      requiredMessage1: t.field({
        type: OneofMemberMessage1Input$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "required_message1",
            typeFullName: "testapis.oneof.OneofMemberMessage1",
          },
        },
      }),
      requiredMessage2: t.field({
        type: OneofMemberMessage2Input$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "required_message2",
            typeFullName: "testapis.oneof.OneofMemberMessage2",
          },
        },
      }),
      optoinalMessage1: t.field({
        type: OneofMemberMessage1Input$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "optoinal_message1",
            typeFullName: "testapis.oneof.OneofMemberMessage1",
          },
        },
      }),
      optoinalMessage2: t.field({
        type: OneofMemberMessage2Input$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "optoinal_message2",
            typeFullName: "testapis.oneof.OneofMemberMessage2",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.oneof.OneofParent",
        name: "OneofParent",
        package: "testapis.oneof",
      },
    },
  });
"
`;

exports[`protobuf oneof generates pothos DSLs with graphql_type file layout: oneof/OneofParentOptionalOneofMembers.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/oneof/oneof.proto

/* eslint-disable */

import { builder } from "../../builder";

export const OneofParentOptionalOneofMembers$Ref = builder.unionType(
  "OneofParentOptionalOneofMembers",
  {
    types: [OneofMemberMessage1$Ref, OneofMemberMessage2$Ref],
    extensions: {
      protobufOneof: {
        fullName: "testapis.oneof.OneofParent.optional_oneof_members",
        name: "optional_oneof_members",
        messageName: "OneofParent",
        package: "testapis.oneof",
        fields: [{
          name: "optoinal_message1",
          type: "testapis.oneof.OneofMemberMessage1",
        }, {
          name: "optoinal_message2",
          type: "testapis.oneof.OneofMemberMessage2",
        }],
      },
    },
  },
);
"
`;

exports[`protobuf oneof generates pothos DSLs with graphql_type file layout: oneof/OneofParentRequiredOneofMembers.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/oneof/oneof.proto

/* eslint-disable */

import { builder } from "../../builder";

export const OneofParentRequiredOneofMembers$Ref = builder.unionType(
  "OneofParentRequiredOneofMembers",
  {
    types: [OneofMemberMessage1$Ref, OneofMemberMessage2$Ref],
    description: "Required. disallow not_set.",
    extensions: {
      protobufOneof: {
        fullName: "testapis.oneof.OneofParent.required_oneof_members",
        name: "required_oneof_members",
        messageName: "OneofParent",
        package: "testapis.oneof",
        fields: [{
          name: "required_message1",
          type: "testapis.oneof.OneofMemberMessage1",
        }, {
          name: "required_message2",
          type: "testapis.oneof.OneofMemberMessage2",
        }],
      },
    },
  },
);
"
`;

exports[`protobuf oneof with ts-proto generates pothos DSLs: oneof/oneof.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/oneof/oneof.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import {
  OneofMemberMessage1,
  OneofMemberMessage2,
  OneofParent,
} from "./testapis/oneof/oneof";

export const OneofParent$Ref = builder.objectRef<OneofParent>("OneofParent");
builder.objectType(OneofParent$Ref, {
  name: "OneofParent",
  fields: (t) => ({
    normalField: t.expose("normalField", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: { name: "normal_field", typeFullName: "string" },
      },
    }),
    requiredOneofMembers: t.field({
      type: OneofParentRequiredOneofMembers$Ref,
      nullable: false,
      description: "Required. disallow not_set.",
      resolve: (source) => {
        const value = source.requiredMessage1 ?? source.requiredMessage2;
        if (value == null) {
          throw new Error("requiredOneofMembers should not be null");
        }
        return value;
      },
      extensions: { protobufField: { name: "required_oneof_members" } },
    }),
    optionalOneofMembers: t.field({
      type: OneofParentOptionalOneofMembers$Ref,
      nullable: true,
      resolve: (source) => {
        const value = source.optoinalMessage1 ?? source.optoinalMessage2;
        if (value == null) {
          return null;
        }
        return value;
      },
      extensions: { protobufField: { name: "optional_oneof_members" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as OneofParent | { $type: string & {}; }).$type ===
      "testapis.oneof.OneofParent";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.oneof.OneofParent",
      name: "OneofParent",
      package: "testapis.oneof",
    },
  },
});

export const OneofMemberMessage1$Ref = builder.objectRef<OneofMemberMessage1>(
  "OneofMemberMessage1",
);
builder.objectType(OneofMemberMessage1$Ref, {
  name: "OneofMemberMessage1",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return (source as OneofMemberMessage1 | { $type: string & {}; }).$type ===
      "testapis.oneof.OneofMemberMessage1";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.oneof.OneofMemberMessage1",
      name: "OneofMemberMessage1",
      package: "testapis.oneof",
    },
  },
});

export const OneofMemberMessage2$Ref = builder.objectRef<OneofMemberMessage2>(
  "OneofMemberMessage2",
);
builder.objectType(OneofMemberMessage2$Ref, {
  name: "OneofMemberMessage2",
  fields: (t) => ({
    imageUrl: t.expose("imageUrl", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: { name: "image_url", typeFullName: "string" },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as OneofMemberMessage2 | { $type: string & {}; }).$type ===
      "testapis.oneof.OneofMemberMessage2";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.oneof.OneofMemberMessage2",
      name: "OneofMemberMessage2",
      package: "testapis.oneof",
    },
  },
});

export type OneofParentInput$Shape = {
  normalField: OneofParent["normalField"];
  requiredMessage1?: OneofMemberMessage1Input$Shape | null;
  requiredMessage2?: OneofMemberMessage2Input$Shape | null;
  optoinalMessage1?: OneofMemberMessage1Input$Shape | null;
  optoinalMessage2?: OneofMemberMessage2Input$Shape | null;
};

export const OneofParentInput$Ref: InputObjectRef<OneofParentInput$Shape> =
  builder.inputRef<OneofParentInput$Shape>("OneofParentInput").implement({
    fields: (t) => ({
      normalField: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: { name: "normal_field", typeFullName: "string" },
        },
      }),
      requiredMessage1: t.field({
        type: OneofMemberMessage1Input$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "required_message1",
            typeFullName: "testapis.oneof.OneofMemberMessage1",
          },
        },
      }),
      requiredMessage2: t.field({
        type: OneofMemberMessage2Input$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "required_message2",
            typeFullName: "testapis.oneof.OneofMemberMessage2",
          },
        },
      }),
      optoinalMessage1: t.field({
        type: OneofMemberMessage1Input$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "optoinal_message1",
            typeFullName: "testapis.oneof.OneofMemberMessage1",
          },
        },
      }),
      optoinalMessage2: t.field({
        type: OneofMemberMessage2Input$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "optoinal_message2",
            typeFullName: "testapis.oneof.OneofMemberMessage2",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.oneof.OneofParent",
        name: "OneofParent",
        package: "testapis.oneof",
      },
    },
  });

export type OneofMemberMessage1Input$Shape = {
  body: OneofMemberMessage1["body"];
};

export const OneofMemberMessage1Input$Ref: InputObjectRef<
  OneofMemberMessage1Input$Shape
> = builder.inputRef<OneofMemberMessage1Input$Shape>("OneofMemberMessage1Input")
  .implement({
    fields: (t) => ({
      body: t.field({
        type: "String",
        required: true,
        extensions: { protobufField: { name: "body", typeFullName: "string" } },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.oneof.OneofMemberMessage1",
        name: "OneofMemberMessage1",
        package: "testapis.oneof",
      },
    },
  });

export type OneofMemberMessage2Input$Shape = {
  imageUrl: OneofMemberMessage2["imageUrl"];
};

export const OneofMemberMessage2Input$Ref: InputObjectRef<
  OneofMemberMessage2Input$Shape
> = builder.inputRef<OneofMemberMessage2Input$Shape>("OneofMemberMessage2Input")
  .implement({
    fields: (t) => ({
      imageUrl: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: { name: "image_url", typeFullName: "string" },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.oneof.OneofMemberMessage2",
        name: "OneofMemberMessage2",
        package: "testapis.oneof",
      },
    },
  });

export const OneofParentRequiredOneofMembers$Ref = builder.unionType(
  "OneofParentRequiredOneofMembers",
  {
    types: [OneofMemberMessage1$Ref, OneofMemberMessage2$Ref],
    description: "Required. disallow not_set.",
    extensions: {
      protobufOneof: {
        fullName: "testapis.oneof.OneofParent.required_oneof_members",
        name: "required_oneof_members",
        messageName: "OneofParent",
        package: "testapis.oneof",
        fields: [{
          name: "required_message1",
          type: "testapis.oneof.OneofMemberMessage1",
        }, {
          name: "required_message2",
          type: "testapis.oneof.OneofMemberMessage2",
        }],
      },
    },
  },
);

export const OneofParentOptionalOneofMembers$Ref = builder.unionType(
  "OneofParentOptionalOneofMembers",
  {
    types: [OneofMemberMessage1$Ref, OneofMemberMessage2$Ref],
    extensions: {
      protobufOneof: {
        fullName: "testapis.oneof.OneofParent.optional_oneof_members",
        name: "optional_oneof_members",
        messageName: "OneofParent",
        package: "testapis.oneof",
        fields: [{
          name: "optoinal_message1",
          type: "testapis.oneof.OneofMemberMessage1",
        }, {
          name: "optoinal_message2",
          type: "testapis.oneof.OneofMemberMessage2",
        }],
      },
    },
  },
);
"
`;

exports[`simple proto file generates pothos DSLs with graphql_type file layout: primitives/Message.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/primitives/primitives.proto

/* eslint-disable */

import { builder } from "../../builder";
import { Primitives$Ref } from "./Primitives.pothos";
import { Message } from "./testapis/primitives/primitives";

export const Message$Ref = builder.objectRef<Message>("Message");
builder.objectType(Message$Ref, {
  name: "Message",
  fields: (t) => ({
    requiredPrimitives: t.field({
      type: Primitives$Ref,
      nullable: false,
      description: "Required.",
      resolve: (source) => {
        return source.requiredPrimitives!;
      },
      extensions: {
        protobufField: {
          name: "required_primitives",
          typeFullName: "testapis.primitives.Primitives",
        },
      },
    }),
    optionalPrimitives: t.expose("optionalPrimitives", {
      type: Primitives$Ref,
      nullable: true,
      description: "Optional.",
      extensions: {
        protobufField: {
          name: "optional_primitives",
          typeFullName: "testapis.primitives.Primitives",
        },
      },
    }),
    requiredPrimitivesList: t.field({
      type: [Primitives$Ref],
      nullable: { list: false, items: false },
      description: "Required.",
      resolve: (source) => {
        return source.requiredPrimitivesList!;
      },
      extensions: {
        protobufField: {
          name: "required_primitives_list",
          typeFullName: "testapis.primitives.Primitives",
        },
      },
    }),
    optionalPrimitivesList: t.expose("optionalPrimitivesList", {
      type: [Primitives$Ref],
      nullable: { list: true, items: false },
      description: "Optional.",
      extensions: {
        protobufField: {
          name: "optional_primitives_list",
          typeFullName: "testapis.primitives.Primitives",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as Message | { $type: string & {}; }).$type ===
      "testapis.primitives.Message";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.primitives.Message",
      name: "Message",
      package: "testapis.primitives",
    },
  },
});
"
`;

exports[`simple proto file generates pothos DSLs with graphql_type file layout: primitives/MessageInput.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/primitives/primitives.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import {
  PrimitivesInput$Ref,
  PrimitivesInput$Shape,
} from "./PrimitivesInput.pothos";

export type MessageInput$Shape = {
  requiredPrimitives: PrimitivesInput$Shape;
  optionalPrimitives?: PrimitivesInput$Shape | null;
  requiredPrimitivesList: Array<PrimitivesInput$Shape>;
  optionalPrimitivesList?: Array<PrimitivesInput$Shape> | null;
};

export const MessageInput$Ref: InputObjectRef<MessageInput$Shape> = builder
  .inputRef<MessageInput$Shape>("MessageInput").implement({
    fields: (t) => ({
      requiredPrimitives: t.field({
        type: PrimitivesInput$Ref,
        required: true,
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_primitives",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
      optionalPrimitives: t.field({
        type: PrimitivesInput$Ref,
        required: false,
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_primitives",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
      requiredPrimitivesList: t.field({
        type: [PrimitivesInput$Ref],
        required: { list: true, items: true },
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_primitives_list",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
      optionalPrimitivesList: t.field({
        type: [PrimitivesInput$Ref],
        required: { list: false, items: true },
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_primitives_list",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.primitives.Message",
        name: "Message",
        package: "testapis.primitives",
      },
    },
  });
"
`;

exports[`simple proto file generates pothos DSLs with graphql_type file layout: primitives/Primitives.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/primitives/primitives.proto

/* eslint-disable */

import { builder } from "../../builder";
import { Primitives } from "./testapis/primitives/primitives";

export const Primitives$Ref = builder.objectRef<Primitives>("Primitives");
builder.objectType(Primitives$Ref, {
  name: "Primitives",
  fields: (t) => ({
    requiredDoubleValue: t.expose("requiredDoubleValue", {
      type: "Float",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_double_value",
          typeFullName: "double",
        },
      },
    }),
    requiredFloatValue: t.expose("requiredFloatValue", {
      type: "Float",
      nullable: false,
      extensions: {
        protobufField: { name: "required_float_value", typeFullName: "float" },
      },
    }),
    requiredInt32Value: t.expose("requiredInt32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: { name: "required_int32_value", typeFullName: "int32" },
      },
    }),
    requiredInt64Value: t.expose("requiredInt64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: { name: "required_int64_value", typeFullName: "int64" },
      },
    }),
    requiredUint32Value: t.expose("requiredUint32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_uint32_value",
          typeFullName: "uint32",
        },
      },
    }),
    requiredUint64Value: t.expose("requiredUint64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_uint64_value",
          typeFullName: "uint64",
        },
      },
    }),
    requiredSint32Value: t.expose("requiredSint32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_sint32_value",
          typeFullName: "sint32",
        },
      },
    }),
    requiredSint64Value: t.expose("requiredSint64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_sint64_value",
          typeFullName: "sint64",
        },
      },
    }),
    requiredFixed32Value: t.expose("requiredFixed32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_fixed32_value",
          typeFullName: "fixed32",
        },
      },
    }),
    requiredFixed64Value: t.expose("requiredFixed64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_fixed64_value",
          typeFullName: "fixed64",
        },
      },
    }),
    requiredSfixed32Value: t.expose("requiredSfixed32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_sfixed32_value",
          typeFullName: "sfixed32",
        },
      },
    }),
    requiredSfixed64Value: t.expose("requiredSfixed64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_sfixed64_value",
          typeFullName: "sfixed64",
        },
      },
    }),
    requiredBoolValue: t.expose("requiredBoolValue", {
      type: "Boolean",
      nullable: false,
      extensions: {
        protobufField: { name: "required_bool_value", typeFullName: "bool" },
      },
    }),
    requiredStringValue: t.expose("requiredStringValue", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_string_value",
          typeFullName: "string",
        },
      },
    }),
    requiredDoubleValues: t.expose("requiredDoubleValues", {
      type: ["Float"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_double_values",
          typeFullName: "double",
        },
      },
    }),
    requiredFloatValues: t.expose("requiredFloatValues", {
      type: ["Float"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: { name: "required_float_values", typeFullName: "float" },
      },
    }),
    requiredInt32Values: t.expose("requiredInt32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: { name: "required_int32_values", typeFullName: "int32" },
      },
    }),
    requiredInt64Values: t.expose("requiredInt64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: { name: "required_int64_values", typeFullName: "int64" },
      },
    }),
    requiredUint32Values: t.expose("requiredUint32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_uint32_values",
          typeFullName: "uint32",
        },
      },
    }),
    requiredUint64Values: t.expose("requiredUint64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_uint64_values",
          typeFullName: "uint64",
        },
      },
    }),
    requiredSint32Values: t.expose("requiredSint32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_sint32_values",
          typeFullName: "sint32",
        },
      },
    }),
    requiredSint64Values: t.expose("requiredSint64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_sint64_values",
          typeFullName: "sint64",
        },
      },
    }),
    requiredFixed32Values: t.expose("requiredFixed32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_fixed32_values",
          typeFullName: "fixed32",
        },
      },
    }),
    requiredFixed64Values: t.expose("requiredFixed64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_fixed64_values",
          typeFullName: "fixed64",
        },
      },
    }),
    requiredSfixed32Values: t.expose("requiredSfixed32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_sfixed32_values",
          typeFullName: "sfixed32",
        },
      },
    }),
    requiredSfixed64Values: t.expose("requiredSfixed64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_sfixed64_values",
          typeFullName: "sfixed64",
        },
      },
    }),
    requiredBoolValues: t.expose("requiredBoolValues", {
      type: ["Boolean"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: { name: "required_bool_values", typeFullName: "bool" },
      },
    }),
    requiredStringValues: t.expose("requiredStringValues", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_string_values",
          typeFullName: "string",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as Primitives | { $type: string & {}; }).$type ===
      "testapis.primitives.Primitives";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.primitives.Primitives",
      name: "Primitives",
      package: "testapis.primitives",
    },
  },
});
"
`;

exports[`simple proto file generates pothos DSLs with graphql_type file layout: primitives/PrimitivesInput.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/primitives/primitives.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { Primitives } from "./testapis/primitives/primitives";

export type PrimitivesInput$Shape = {
  requiredDoubleValue: Primitives["requiredDoubleValue"];
  requiredFloatValue: Primitives["requiredFloatValue"];
  requiredInt32Value: Primitives["requiredInt32Value"];
  requiredInt64Value: Primitives["requiredInt64Value"];
  requiredUint32Value: Primitives["requiredUint32Value"];
  requiredUint64Value: Primitives["requiredUint64Value"];
  requiredSint32Value: Primitives["requiredSint32Value"];
  requiredSint64Value: Primitives["requiredSint64Value"];
  requiredFixed32Value: Primitives["requiredFixed32Value"];
  requiredFixed64Value: Primitives["requiredFixed64Value"];
  requiredSfixed32Value: Primitives["requiredSfixed32Value"];
  requiredSfixed64Value: Primitives["requiredSfixed64Value"];
  requiredBoolValue: Primitives["requiredBoolValue"];
  requiredStringValue: Primitives["requiredStringValue"];
  requiredDoubleValues: Primitives["requiredDoubleValues"];
  requiredFloatValues: Primitives["requiredFloatValues"];
  requiredInt32Values: Primitives["requiredInt32Values"];
  requiredInt64Values: Primitives["requiredInt64Values"];
  requiredUint32Values: Primitives["requiredUint32Values"];
  requiredUint64Values: Primitives["requiredUint64Values"];
  requiredSint32Values: Primitives["requiredSint32Values"];
  requiredSint64Values: Primitives["requiredSint64Values"];
  requiredFixed32Values: Primitives["requiredFixed32Values"];
  requiredFixed64Values: Primitives["requiredFixed64Values"];
  requiredSfixed32Values: Primitives["requiredSfixed32Values"];
  requiredSfixed64Values: Primitives["requiredSfixed64Values"];
  requiredBoolValues: Primitives["requiredBoolValues"];
  requiredStringValues: Primitives["requiredStringValues"];
};

export const PrimitivesInput$Ref: InputObjectRef<PrimitivesInput$Shape> =
  builder.inputRef<PrimitivesInput$Shape>("PrimitivesInput").implement({
    fields: (t) => ({
      requiredDoubleValue: t.field({
        type: "Float",
        required: true,
        extensions: {
          protobufField: {
            name: "required_double_value",
            typeFullName: "double",
          },
        },
      }),
      requiredFloatValue: t.field({
        type: "Float",
        required: true,
        extensions: {
          protobufField: {
            name: "required_float_value",
            typeFullName: "float",
          },
        },
      }),
      requiredInt32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_int32_value",
            typeFullName: "int32",
          },
        },
      }),
      requiredInt64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_int64_value",
            typeFullName: "int64",
          },
        },
      }),
      requiredUint32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_uint32_value",
            typeFullName: "uint32",
          },
        },
      }),
      requiredUint64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_uint64_value",
            typeFullName: "uint64",
          },
        },
      }),
      requiredSint32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_sint32_value",
            typeFullName: "sint32",
          },
        },
      }),
      requiredSint64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_sint64_value",
            typeFullName: "sint64",
          },
        },
      }),
      requiredFixed32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_fixed32_value",
            typeFullName: "fixed32",
          },
        },
      }),
      requiredFixed64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_fixed64_value",
            typeFullName: "fixed64",
          },
        },
      }),
      requiredSfixed32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_sfixed32_value",
            typeFullName: "sfixed32",
          },
        },
      }),
      requiredSfixed64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_sfixed64_value",
            typeFullName: "sfixed64",
          },
        },
      }),
      requiredBoolValue: t.field({
        type: "Boolean",
        required: true,
        extensions: {
          protobufField: { name: "required_bool_value", typeFullName: "bool" },
        },
      }),
      requiredStringValue: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_string_value",
            typeFullName: "string",
          },
        },
      }),
      requiredDoubleValues: t.field({
        type: ["Float"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_double_values",
            typeFullName: "double",
          },
        },
      }),
      requiredFloatValues: t.field({
        type: ["Float"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_float_values",
            typeFullName: "float",
          },
        },
      }),
      requiredInt32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_int32_values",
            typeFullName: "int32",
          },
        },
      }),
      requiredInt64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_int64_values",
            typeFullName: "int64",
          },
        },
      }),
      requiredUint32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_uint32_values",
            typeFullName: "uint32",
          },
        },
      }),
      requiredUint64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_uint64_values",
            typeFullName: "uint64",
          },
        },
      }),
      requiredSint32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_sint32_values",
            typeFullName: "sint32",
          },
        },
      }),
      requiredSint64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_sint64_values",
            typeFullName: "sint64",
          },
        },
      }),
      requiredFixed32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_fixed32_values",
            typeFullName: "fixed32",
          },
        },
      }),
      requiredFixed64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_fixed64_values",
            typeFullName: "fixed64",
          },
        },
      }),
      requiredSfixed32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_sfixed32_values",
            typeFullName: "sfixed32",
          },
        },
      }),
      requiredSfixed64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_sfixed64_values",
            typeFullName: "sfixed64",
          },
        },
      }),
      requiredBoolValues: t.field({
        type: ["Boolean"],
        required: { list: true, items: true },
        extensions: {
          protobufField: { name: "required_bool_values", typeFullName: "bool" },
        },
      }),
      requiredStringValues: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_string_values",
            typeFullName: "string",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.primitives.Primitives",
        name: "Primitives",
        package: "testapis.primitives",
      },
    },
  });
"
`;

exports[`simple proto file generates pothos DSLs with partial inputs: primitives/primitives.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/primitives/primitives.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { Message, Primitives } from "./testapis/primitives/primitives";

export const Message$Ref = builder.objectRef<Message>("Message");
builder.objectType(Message$Ref, {
  name: "Message",
  fields: (t) => ({
    requiredPrimitives: t.field({
      type: Primitives$Ref,
      nullable: false,
      description: "Required.",
      resolve: (source) => {
        return source.requiredPrimitives!;
      },
      extensions: {
        protobufField: {
          name: "required_primitives",
          typeFullName: "testapis.primitives.Primitives",
        },
      },
    }),
    optionalPrimitives: t.expose("optionalPrimitives", {
      type: Primitives$Ref,
      nullable: true,
      description: "Optional.",
      extensions: {
        protobufField: {
          name: "optional_primitives",
          typeFullName: "testapis.primitives.Primitives",
        },
      },
    }),
    requiredPrimitivesList: t.field({
      type: [Primitives$Ref],
      nullable: { list: false, items: false },
      description: "Required.",
      resolve: (source) => {
        return source.requiredPrimitivesList!;
      },
      extensions: {
        protobufField: {
          name: "required_primitives_list",
          typeFullName: "testapis.primitives.Primitives",
        },
      },
    }),
    optionalPrimitivesList: t.expose("optionalPrimitivesList", {
      type: [Primitives$Ref],
      nullable: { list: true, items: false },
      description: "Optional.",
      extensions: {
        protobufField: {
          name: "optional_primitives_list",
          typeFullName: "testapis.primitives.Primitives",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as Message | { $type: string & {}; }).$type ===
      "testapis.primitives.Message";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.primitives.Message",
      name: "Message",
      package: "testapis.primitives",
    },
  },
});

export const Primitives$Ref = builder.objectRef<Primitives>("Primitives");
builder.objectType(Primitives$Ref, {
  name: "Primitives",
  fields: (t) => ({
    requiredDoubleValue: t.expose("requiredDoubleValue", {
      type: "Float",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_double_value",
          typeFullName: "double",
        },
      },
    }),
    requiredFloatValue: t.expose("requiredFloatValue", {
      type: "Float",
      nullable: false,
      extensions: {
        protobufField: { name: "required_float_value", typeFullName: "float" },
      },
    }),
    requiredInt32Value: t.expose("requiredInt32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: { name: "required_int32_value", typeFullName: "int32" },
      },
    }),
    requiredInt64Value: t.expose("requiredInt64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: { name: "required_int64_value", typeFullName: "int64" },
      },
    }),
    requiredUint32Value: t.expose("requiredUint32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_uint32_value",
          typeFullName: "uint32",
        },
      },
    }),
    requiredUint64Value: t.expose("requiredUint64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_uint64_value",
          typeFullName: "uint64",
        },
      },
    }),
    requiredSint32Value: t.expose("requiredSint32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_sint32_value",
          typeFullName: "sint32",
        },
      },
    }),
    requiredSint64Value: t.expose("requiredSint64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_sint64_value",
          typeFullName: "sint64",
        },
      },
    }),
    requiredFixed32Value: t.expose("requiredFixed32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_fixed32_value",
          typeFullName: "fixed32",
        },
      },
    }),
    requiredFixed64Value: t.expose("requiredFixed64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_fixed64_value",
          typeFullName: "fixed64",
        },
      },
    }),
    requiredSfixed32Value: t.expose("requiredSfixed32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_sfixed32_value",
          typeFullName: "sfixed32",
        },
      },
    }),
    requiredSfixed64Value: t.expose("requiredSfixed64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_sfixed64_value",
          typeFullName: "sfixed64",
        },
      },
    }),
    requiredBoolValue: t.expose("requiredBoolValue", {
      type: "Boolean",
      nullable: false,
      extensions: {
        protobufField: { name: "required_bool_value", typeFullName: "bool" },
      },
    }),
    requiredStringValue: t.expose("requiredStringValue", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_string_value",
          typeFullName: "string",
        },
      },
    }),
    requiredDoubleValues: t.expose("requiredDoubleValues", {
      type: ["Float"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_double_values",
          typeFullName: "double",
        },
      },
    }),
    requiredFloatValues: t.expose("requiredFloatValues", {
      type: ["Float"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: { name: "required_float_values", typeFullName: "float" },
      },
    }),
    requiredInt32Values: t.expose("requiredInt32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: { name: "required_int32_values", typeFullName: "int32" },
      },
    }),
    requiredInt64Values: t.expose("requiredInt64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: { name: "required_int64_values", typeFullName: "int64" },
      },
    }),
    requiredUint32Values: t.expose("requiredUint32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_uint32_values",
          typeFullName: "uint32",
        },
      },
    }),
    requiredUint64Values: t.expose("requiredUint64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_uint64_values",
          typeFullName: "uint64",
        },
      },
    }),
    requiredSint32Values: t.expose("requiredSint32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_sint32_values",
          typeFullName: "sint32",
        },
      },
    }),
    requiredSint64Values: t.expose("requiredSint64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_sint64_values",
          typeFullName: "sint64",
        },
      },
    }),
    requiredFixed32Values: t.expose("requiredFixed32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_fixed32_values",
          typeFullName: "fixed32",
        },
      },
    }),
    requiredFixed64Values: t.expose("requiredFixed64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_fixed64_values",
          typeFullName: "fixed64",
        },
      },
    }),
    requiredSfixed32Values: t.expose("requiredSfixed32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_sfixed32_values",
          typeFullName: "sfixed32",
        },
      },
    }),
    requiredSfixed64Values: t.expose("requiredSfixed64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_sfixed64_values",
          typeFullName: "sfixed64",
        },
      },
    }),
    requiredBoolValues: t.expose("requiredBoolValues", {
      type: ["Boolean"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: { name: "required_bool_values", typeFullName: "bool" },
      },
    }),
    requiredStringValues: t.expose("requiredStringValues", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_string_values",
          typeFullName: "string",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as Primitives | { $type: string & {}; }).$type ===
      "testapis.primitives.Primitives";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.primitives.Primitives",
      name: "Primitives",
      package: "testapis.primitives",
    },
  },
});

export type MessageInput$Shape = {
  requiredPrimitives: PrimitivesInput$Shape;
  optionalPrimitives?: PrimitivesInput$Shape | null;
  requiredPrimitivesList: Array<PrimitivesInput$Shape>;
  optionalPrimitivesList?: Array<PrimitivesInput$Shape> | null;
};

export const MessageInput$Ref: InputObjectRef<MessageInput$Shape> = builder
  .inputRef<MessageInput$Shape>("MessageInput").implement({
    fields: (t) => ({
      requiredPrimitives: t.field({
        type: PrimitivesInput$Ref,
        required: true,
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_primitives",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
      optionalPrimitives: t.field({
        type: PrimitivesInput$Ref,
        required: false,
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_primitives",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
      requiredPrimitivesList: t.field({
        type: [PrimitivesInput$Ref],
        required: { list: true, items: true },
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_primitives_list",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
      optionalPrimitivesList: t.field({
        type: [PrimitivesInput$Ref],
        required: { list: false, items: true },
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_primitives_list",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.primitives.Message",
        name: "Message",
        package: "testapis.primitives",
      },
    },
  });

export type MessagePartialInput$Shape = {
  requiredPrimitives?: PrimitivesPartialInput$Shape | null;
  optionalPrimitives?: PrimitivesPartialInput$Shape | null;
  requiredPrimitivesList?: Array<PrimitivesPartialInput$Shape> | null;
  optionalPrimitivesList?: Array<PrimitivesPartialInput$Shape> | null;
};

export const MessagePartialInput$Ref: InputObjectRef<
  MessagePartialInput$Shape
> = builder.inputRef<MessagePartialInput$Shape>("MessagePartialInput")
  .implement({
    fields: (t) => ({
      requiredPrimitives: t.field({
        type: PrimitivesPartialInput$Ref,
        required: false,
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_primitives",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
      optionalPrimitives: t.field({
        type: PrimitivesPartialInput$Ref,
        required: false,
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_primitives",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
      requiredPrimitivesList: t.field({
        type: [PrimitivesPartialInput$Ref],
        required: { list: false, items: true },
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_primitives_list",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
      optionalPrimitivesList: t.field({
        type: [PrimitivesPartialInput$Ref],
        required: { list: false, items: true },
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_primitives_list",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.primitives.Message",
        name: "Message",
        package: "testapis.primitives",
      },
    },
  });

export type PrimitivesInput$Shape = {
  requiredDoubleValue: Primitives["requiredDoubleValue"];
  requiredFloatValue: Primitives["requiredFloatValue"];
  requiredInt32Value: Primitives["requiredInt32Value"];
  requiredInt64Value: Primitives["requiredInt64Value"];
  requiredUint32Value: Primitives["requiredUint32Value"];
  requiredUint64Value: Primitives["requiredUint64Value"];
  requiredSint32Value: Primitives["requiredSint32Value"];
  requiredSint64Value: Primitives["requiredSint64Value"];
  requiredFixed32Value: Primitives["requiredFixed32Value"];
  requiredFixed64Value: Primitives["requiredFixed64Value"];
  requiredSfixed32Value: Primitives["requiredSfixed32Value"];
  requiredSfixed64Value: Primitives["requiredSfixed64Value"];
  requiredBoolValue: Primitives["requiredBoolValue"];
  requiredStringValue: Primitives["requiredStringValue"];
  requiredDoubleValues: Primitives["requiredDoubleValues"];
  requiredFloatValues: Primitives["requiredFloatValues"];
  requiredInt32Values: Primitives["requiredInt32Values"];
  requiredInt64Values: Primitives["requiredInt64Values"];
  requiredUint32Values: Primitives["requiredUint32Values"];
  requiredUint64Values: Primitives["requiredUint64Values"];
  requiredSint32Values: Primitives["requiredSint32Values"];
  requiredSint64Values: Primitives["requiredSint64Values"];
  requiredFixed32Values: Primitives["requiredFixed32Values"];
  requiredFixed64Values: Primitives["requiredFixed64Values"];
  requiredSfixed32Values: Primitives["requiredSfixed32Values"];
  requiredSfixed64Values: Primitives["requiredSfixed64Values"];
  requiredBoolValues: Primitives["requiredBoolValues"];
  requiredStringValues: Primitives["requiredStringValues"];
};

export const PrimitivesInput$Ref: InputObjectRef<PrimitivesInput$Shape> =
  builder.inputRef<PrimitivesInput$Shape>("PrimitivesInput").implement({
    fields: (t) => ({
      requiredDoubleValue: t.field({
        type: "Float",
        required: true,
        extensions: {
          protobufField: {
            name: "required_double_value",
            typeFullName: "double",
          },
        },
      }),
      requiredFloatValue: t.field({
        type: "Float",
        required: true,
        extensions: {
          protobufField: {
            name: "required_float_value",
            typeFullName: "float",
          },
        },
      }),
      requiredInt32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_int32_value",
            typeFullName: "int32",
          },
        },
      }),
      requiredInt64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_int64_value",
            typeFullName: "int64",
          },
        },
      }),
      requiredUint32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_uint32_value",
            typeFullName: "uint32",
          },
        },
      }),
      requiredUint64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_uint64_value",
            typeFullName: "uint64",
          },
        },
      }),
      requiredSint32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_sint32_value",
            typeFullName: "sint32",
          },
        },
      }),
      requiredSint64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_sint64_value",
            typeFullName: "sint64",
          },
        },
      }),
      requiredFixed32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_fixed32_value",
            typeFullName: "fixed32",
          },
        },
      }),
      requiredFixed64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_fixed64_value",
            typeFullName: "fixed64",
          },
        },
      }),
      requiredSfixed32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_sfixed32_value",
            typeFullName: "sfixed32",
          },
        },
      }),
      requiredSfixed64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_sfixed64_value",
            typeFullName: "sfixed64",
          },
        },
      }),
      requiredBoolValue: t.field({
        type: "Boolean",
        required: true,
        extensions: {
          protobufField: { name: "required_bool_value", typeFullName: "bool" },
        },
      }),
      requiredStringValue: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_string_value",
            typeFullName: "string",
          },
        },
      }),
      requiredDoubleValues: t.field({
        type: ["Float"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_double_values",
            typeFullName: "double",
          },
        },
      }),
      requiredFloatValues: t.field({
        type: ["Float"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_float_values",
            typeFullName: "float",
          },
        },
      }),
      requiredInt32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_int32_values",
            typeFullName: "int32",
          },
        },
      }),
      requiredInt64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_int64_values",
            typeFullName: "int64",
          },
        },
      }),
      requiredUint32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_uint32_values",
            typeFullName: "uint32",
          },
        },
      }),
      requiredUint64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_uint64_values",
            typeFullName: "uint64",
          },
        },
      }),
      requiredSint32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_sint32_values",
            typeFullName: "sint32",
          },
        },
      }),
      requiredSint64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_sint64_values",
            typeFullName: "sint64",
          },
        },
      }),
      requiredFixed32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_fixed32_values",
            typeFullName: "fixed32",
          },
        },
      }),
      requiredFixed64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_fixed64_values",
            typeFullName: "fixed64",
          },
        },
      }),
      requiredSfixed32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_sfixed32_values",
            typeFullName: "sfixed32",
          },
        },
      }),
      requiredSfixed64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_sfixed64_values",
            typeFullName: "sfixed64",
          },
        },
      }),
      requiredBoolValues: t.field({
        type: ["Boolean"],
        required: { list: true, items: true },
        extensions: {
          protobufField: { name: "required_bool_values", typeFullName: "bool" },
        },
      }),
      requiredStringValues: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_string_values",
            typeFullName: "string",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.primitives.Primitives",
        name: "Primitives",
        package: "testapis.primitives",
      },
    },
  });

export type PrimitivesPartialInput$Shape = {
  requiredDoubleValue?: Primitives["requiredDoubleValue"] | null;
  requiredFloatValue?: Primitives["requiredFloatValue"] | null;
  requiredInt32Value?: Primitives["requiredInt32Value"] | null;
  requiredInt64Value?: Primitives["requiredInt64Value"] | null;
  requiredUint32Value?: Primitives["requiredUint32Value"] | null;
  requiredUint64Value?: Primitives["requiredUint64Value"] | null;
  requiredSint32Value?: Primitives["requiredSint32Value"] | null;
  requiredSint64Value?: Primitives["requiredSint64Value"] | null;
  requiredFixed32Value?: Primitives["requiredFixed32Value"] | null;
  requiredFixed64Value?: Primitives["requiredFixed64Value"] | null;
  requiredSfixed32Value?: Primitives["requiredSfixed32Value"] | null;
  requiredSfixed64Value?: Primitives["requiredSfixed64Value"] | null;
  requiredBoolValue?: Primitives["requiredBoolValue"] | null;
  requiredStringValue?: Primitives["requiredStringValue"] | null;
  requiredDoubleValues?: Primitives["requiredDoubleValues"] | null;
  requiredFloatValues?: Primitives["requiredFloatValues"] | null;
  requiredInt32Values?: Primitives["requiredInt32Values"] | null;
  requiredInt64Values?: Primitives["requiredInt64Values"] | null;
  requiredUint32Values?: Primitives["requiredUint32Values"] | null;
  requiredUint64Values?: Primitives["requiredUint64Values"] | null;
  requiredSint32Values?: Primitives["requiredSint32Values"] | null;
  requiredSint64Values?: Primitives["requiredSint64Values"] | null;
  requiredFixed32Values?: Primitives["requiredFixed32Values"] | null;
  requiredFixed64Values?: Primitives["requiredFixed64Values"] | null;
  requiredSfixed32Values?: Primitives["requiredSfixed32Values"] | null;
  requiredSfixed64Values?: Primitives["requiredSfixed64Values"] | null;
  requiredBoolValues?: Primitives["requiredBoolValues"] | null;
  requiredStringValues?: Primitives["requiredStringValues"] | null;
};

export const PrimitivesPartialInput$Ref: InputObjectRef<
  PrimitivesPartialInput$Shape
> = builder.inputRef<PrimitivesPartialInput$Shape>("PrimitivesPartialInput")
  .implement({
    fields: (t) => ({
      requiredDoubleValue: t.field({
        type: "Float",
        required: false,
        extensions: {
          protobufField: {
            name: "required_double_value",
            typeFullName: "double",
          },
        },
      }),
      requiredFloatValue: t.field({
        type: "Float",
        required: false,
        extensions: {
          protobufField: {
            name: "required_float_value",
            typeFullName: "float",
          },
        },
      }),
      requiredInt32Value: t.field({
        type: "Int",
        required: false,
        extensions: {
          protobufField: {
            name: "required_int32_value",
            typeFullName: "int32",
          },
        },
      }),
      requiredInt64Value: t.field({
        type: "String",
        required: false,
        extensions: {
          protobufField: {
            name: "required_int64_value",
            typeFullName: "int64",
          },
        },
      }),
      requiredUint32Value: t.field({
        type: "Int",
        required: false,
        extensions: {
          protobufField: {
            name: "required_uint32_value",
            typeFullName: "uint32",
          },
        },
      }),
      requiredUint64Value: t.field({
        type: "String",
        required: false,
        extensions: {
          protobufField: {
            name: "required_uint64_value",
            typeFullName: "uint64",
          },
        },
      }),
      requiredSint32Value: t.field({
        type: "Int",
        required: false,
        extensions: {
          protobufField: {
            name: "required_sint32_value",
            typeFullName: "sint32",
          },
        },
      }),
      requiredSint64Value: t.field({
        type: "String",
        required: false,
        extensions: {
          protobufField: {
            name: "required_sint64_value",
            typeFullName: "sint64",
          },
        },
      }),
      requiredFixed32Value: t.field({
        type: "Int",
        required: false,
        extensions: {
          protobufField: {
            name: "required_fixed32_value",
            typeFullName: "fixed32",
          },
        },
      }),
      requiredFixed64Value: t.field({
        type: "String",
        required: false,
        extensions: {
          protobufField: {
            name: "required_fixed64_value",
            typeFullName: "fixed64",
          },
        },
      }),
      requiredSfixed32Value: t.field({
        type: "Int",
        required: false,
        extensions: {
          protobufField: {
            name: "required_sfixed32_value",
            typeFullName: "sfixed32",
          },
        },
      }),
      requiredSfixed64Value: t.field({
        type: "String",
        required: false,
        extensions: {
          protobufField: {
            name: "required_sfixed64_value",
            typeFullName: "sfixed64",
          },
        },
      }),
      requiredBoolValue: t.field({
        type: "Boolean",
        required: false,
        extensions: {
          protobufField: { name: "required_bool_value", typeFullName: "bool" },
        },
      }),
      requiredStringValue: t.field({
        type: "String",
        required: false,
        extensions: {
          protobufField: {
            name: "required_string_value",
            typeFullName: "string",
          },
        },
      }),
      requiredDoubleValues: t.field({
        type: ["Float"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_double_values",
            typeFullName: "double",
          },
        },
      }),
      requiredFloatValues: t.field({
        type: ["Float"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_float_values",
            typeFullName: "float",
          },
        },
      }),
      requiredInt32Values: t.field({
        type: ["Int"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_int32_values",
            typeFullName: "int32",
          },
        },
      }),
      requiredInt64Values: t.field({
        type: ["String"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_int64_values",
            typeFullName: "int64",
          },
        },
      }),
      requiredUint32Values: t.field({
        type: ["Int"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_uint32_values",
            typeFullName: "uint32",
          },
        },
      }),
      requiredUint64Values: t.field({
        type: ["String"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_uint64_values",
            typeFullName: "uint64",
          },
        },
      }),
      requiredSint32Values: t.field({
        type: ["Int"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_sint32_values",
            typeFullName: "sint32",
          },
        },
      }),
      requiredSint64Values: t.field({
        type: ["String"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_sint64_values",
            typeFullName: "sint64",
          },
        },
      }),
      requiredFixed32Values: t.field({
        type: ["Int"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_fixed32_values",
            typeFullName: "fixed32",
          },
        },
      }),
      requiredFixed64Values: t.field({
        type: ["String"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_fixed64_values",
            typeFullName: "fixed64",
          },
        },
      }),
      requiredSfixed32Values: t.field({
        type: ["Int"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_sfixed32_values",
            typeFullName: "sfixed32",
          },
        },
      }),
      requiredSfixed64Values: t.field({
        type: ["String"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_sfixed64_values",
            typeFullName: "sfixed64",
          },
        },
      }),
      requiredBoolValues: t.field({
        type: ["Boolean"],
        required: { list: false, items: true },
        extensions: {
          protobufField: { name: "required_bool_values", typeFullName: "bool" },
        },
      }),
      requiredStringValues: t.field({
        type: ["String"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "required_string_values",
            typeFullName: "string",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.primitives.Primitives",
        name: "Primitives",
        package: "testapis.primitives",
      },
    },
  });
"
`;

exports[`simple proto file with ts-proto generates pothos DSLs: primitives/primitives.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/primitives/primitives.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { Message, Primitives } from "./testapis/primitives/primitives";

export const Message$Ref = builder.objectRef<Message>("Message");
builder.objectType(Message$Ref, {
  name: "Message",
  fields: (t) => ({
    requiredPrimitives: t.field({
      type: Primitives$Ref,
      nullable: false,
      description: "Required.",
      resolve: (source) => {
        return source.requiredPrimitives!;
      },
      extensions: {
        protobufField: {
          name: "required_primitives",
          typeFullName: "testapis.primitives.Primitives",
        },
      },
    }),
    optionalPrimitives: t.expose("optionalPrimitives", {
      type: Primitives$Ref,
      nullable: true,
      description: "Optional.",
      extensions: {
        protobufField: {
          name: "optional_primitives",
          typeFullName: "testapis.primitives.Primitives",
        },
      },
    }),
    requiredPrimitivesList: t.field({
      type: [Primitives$Ref],
      nullable: { list: false, items: false },
      description: "Required.",
      resolve: (source) => {
        return source.requiredPrimitivesList!;
      },
      extensions: {
        protobufField: {
          name: "required_primitives_list",
          typeFullName: "testapis.primitives.Primitives",
        },
      },
    }),
    optionalPrimitivesList: t.expose("optionalPrimitivesList", {
      type: [Primitives$Ref],
      nullable: { list: true, items: false },
      description: "Optional.",
      extensions: {
        protobufField: {
          name: "optional_primitives_list",
          typeFullName: "testapis.primitives.Primitives",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as Message | { $type: string & {}; }).$type ===
      "testapis.primitives.Message";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.primitives.Message",
      name: "Message",
      package: "testapis.primitives",
    },
  },
});

export const Primitives$Ref = builder.objectRef<Primitives>("Primitives");
builder.objectType(Primitives$Ref, {
  name: "Primitives",
  fields: (t) => ({
    requiredDoubleValue: t.expose("requiredDoubleValue", {
      type: "Float",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_double_value",
          typeFullName: "double",
        },
      },
    }),
    requiredFloatValue: t.expose("requiredFloatValue", {
      type: "Float",
      nullable: false,
      extensions: {
        protobufField: { name: "required_float_value", typeFullName: "float" },
      },
    }),
    requiredInt32Value: t.expose("requiredInt32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: { name: "required_int32_value", typeFullName: "int32" },
      },
    }),
    requiredInt64Value: t.expose("requiredInt64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: { name: "required_int64_value", typeFullName: "int64" },
      },
    }),
    requiredUint32Value: t.expose("requiredUint32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_uint32_value",
          typeFullName: "uint32",
        },
      },
    }),
    requiredUint64Value: t.expose("requiredUint64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_uint64_value",
          typeFullName: "uint64",
        },
      },
    }),
    requiredSint32Value: t.expose("requiredSint32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_sint32_value",
          typeFullName: "sint32",
        },
      },
    }),
    requiredSint64Value: t.expose("requiredSint64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_sint64_value",
          typeFullName: "sint64",
        },
      },
    }),
    requiredFixed32Value: t.expose("requiredFixed32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_fixed32_value",
          typeFullName: "fixed32",
        },
      },
    }),
    requiredFixed64Value: t.expose("requiredFixed64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_fixed64_value",
          typeFullName: "fixed64",
        },
      },
    }),
    requiredSfixed32Value: t.expose("requiredSfixed32Value", {
      type: "Int",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_sfixed32_value",
          typeFullName: "sfixed32",
        },
      },
    }),
    requiredSfixed64Value: t.expose("requiredSfixed64Value", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_sfixed64_value",
          typeFullName: "sfixed64",
        },
      },
    }),
    requiredBoolValue: t.expose("requiredBoolValue", {
      type: "Boolean",
      nullable: false,
      extensions: {
        protobufField: { name: "required_bool_value", typeFullName: "bool" },
      },
    }),
    requiredStringValue: t.expose("requiredStringValue", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: {
          name: "required_string_value",
          typeFullName: "string",
        },
      },
    }),
    requiredDoubleValues: t.expose("requiredDoubleValues", {
      type: ["Float"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_double_values",
          typeFullName: "double",
        },
      },
    }),
    requiredFloatValues: t.expose("requiredFloatValues", {
      type: ["Float"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: { name: "required_float_values", typeFullName: "float" },
      },
    }),
    requiredInt32Values: t.expose("requiredInt32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: { name: "required_int32_values", typeFullName: "int32" },
      },
    }),
    requiredInt64Values: t.expose("requiredInt64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: { name: "required_int64_values", typeFullName: "int64" },
      },
    }),
    requiredUint32Values: t.expose("requiredUint32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_uint32_values",
          typeFullName: "uint32",
        },
      },
    }),
    requiredUint64Values: t.expose("requiredUint64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_uint64_values",
          typeFullName: "uint64",
        },
      },
    }),
    requiredSint32Values: t.expose("requiredSint32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_sint32_values",
          typeFullName: "sint32",
        },
      },
    }),
    requiredSint64Values: t.expose("requiredSint64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_sint64_values",
          typeFullName: "sint64",
        },
      },
    }),
    requiredFixed32Values: t.expose("requiredFixed32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_fixed32_values",
          typeFullName: "fixed32",
        },
      },
    }),
    requiredFixed64Values: t.expose("requiredFixed64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_fixed64_values",
          typeFullName: "fixed64",
        },
      },
    }),
    requiredSfixed32Values: t.expose("requiredSfixed32Values", {
      type: ["Int"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_sfixed32_values",
          typeFullName: "sfixed32",
        },
      },
    }),
    requiredSfixed64Values: t.expose("requiredSfixed64Values", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_sfixed64_values",
          typeFullName: "sfixed64",
        },
      },
    }),
    requiredBoolValues: t.expose("requiredBoolValues", {
      type: ["Boolean"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: { name: "required_bool_values", typeFullName: "bool" },
      },
    }),
    requiredStringValues: t.expose("requiredStringValues", {
      type: ["String"],
      nullable: { list: false, items: false },
      extensions: {
        protobufField: {
          name: "required_string_values",
          typeFullName: "string",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as Primitives | { $type: string & {}; }).$type ===
      "testapis.primitives.Primitives";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.primitives.Primitives",
      name: "Primitives",
      package: "testapis.primitives",
    },
  },
});

export type MessageInput$Shape = {
  requiredPrimitives: PrimitivesInput$Shape;
  optionalPrimitives?: PrimitivesInput$Shape | null;
  requiredPrimitivesList: Array<PrimitivesInput$Shape>;
  optionalPrimitivesList?: Array<PrimitivesInput$Shape> | null;
};

export const MessageInput$Ref: InputObjectRef<MessageInput$Shape> = builder
  .inputRef<MessageInput$Shape>("MessageInput").implement({
    fields: (t) => ({
      requiredPrimitives: t.field({
        type: PrimitivesInput$Ref,
        required: true,
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_primitives",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
      optionalPrimitives: t.field({
        type: PrimitivesInput$Ref,
        required: false,
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_primitives",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
      requiredPrimitivesList: t.field({
        type: [PrimitivesInput$Ref],
        required: { list: true, items: true },
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_primitives_list",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
      optionalPrimitivesList: t.field({
        type: [PrimitivesInput$Ref],
        required: { list: false, items: true },
        description: "Optional.",
        extensions: {
          protobufField: {
            name: "optional_primitives_list",
            typeFullName: "testapis.primitives.Primitives",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.primitives.Message",
        name: "Message",
        package: "testapis.primitives",
      },
    },
  });

export type PrimitivesInput$Shape = {
  requiredDoubleValue: Primitives["requiredDoubleValue"];
  requiredFloatValue: Primitives["requiredFloatValue"];
  requiredInt32Value: Primitives["requiredInt32Value"];
  requiredInt64Value: Primitives["requiredInt64Value"];
  requiredUint32Value: Primitives["requiredUint32Value"];
  requiredUint64Value: Primitives["requiredUint64Value"];
  requiredSint32Value: Primitives["requiredSint32Value"];
  requiredSint64Value: Primitives["requiredSint64Value"];
  requiredFixed32Value: Primitives["requiredFixed32Value"];
  requiredFixed64Value: Primitives["requiredFixed64Value"];
  requiredSfixed32Value: Primitives["requiredSfixed32Value"];
  requiredSfixed64Value: Primitives["requiredSfixed64Value"];
  requiredBoolValue: Primitives["requiredBoolValue"];
  requiredStringValue: Primitives["requiredStringValue"];
  requiredDoubleValues: Primitives["requiredDoubleValues"];
  requiredFloatValues: Primitives["requiredFloatValues"];
  requiredInt32Values: Primitives["requiredInt32Values"];
  requiredInt64Values: Primitives["requiredInt64Values"];
  requiredUint32Values: Primitives["requiredUint32Values"];
  requiredUint64Values: Primitives["requiredUint64Values"];
  requiredSint32Values: Primitives["requiredSint32Values"];
  requiredSint64Values: Primitives["requiredSint64Values"];
  requiredFixed32Values: Primitives["requiredFixed32Values"];
  requiredFixed64Values: Primitives["requiredFixed64Values"];
  requiredSfixed32Values: Primitives["requiredSfixed32Values"];
  requiredSfixed64Values: Primitives["requiredSfixed64Values"];
  requiredBoolValues: Primitives["requiredBoolValues"];
  requiredStringValues: Primitives["requiredStringValues"];
};

export const PrimitivesInput$Ref: InputObjectRef<PrimitivesInput$Shape> =
  builder.inputRef<PrimitivesInput$Shape>("PrimitivesInput").implement({
    fields: (t) => ({
      requiredDoubleValue: t.field({
        type: "Float",
        required: true,
        extensions: {
          protobufField: {
            name: "required_double_value",
            typeFullName: "double",
          },
        },
      }),
      requiredFloatValue: t.field({
        type: "Float",
        required: true,
        extensions: {
          protobufField: {
            name: "required_float_value",
            typeFullName: "float",
          },
        },
      }),
      requiredInt32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_int32_value",
            typeFullName: "int32",
          },
        },
      }),
      requiredInt64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_int64_value",
            typeFullName: "int64",
          },
        },
      }),
      requiredUint32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_uint32_value",
            typeFullName: "uint32",
          },
        },
      }),
      requiredUint64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_uint64_value",
            typeFullName: "uint64",
          },
        },
      }),
      requiredSint32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_sint32_value",
            typeFullName: "sint32",
          },
        },
      }),
      requiredSint64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_sint64_value",
            typeFullName: "sint64",
          },
        },
      }),
      requiredFixed32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_fixed32_value",
            typeFullName: "fixed32",
          },
        },
      }),
      requiredFixed64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_fixed64_value",
            typeFullName: "fixed64",
          },
        },
      }),
      requiredSfixed32Value: t.field({
        type: "Int",
        required: true,
        extensions: {
          protobufField: {
            name: "required_sfixed32_value",
            typeFullName: "sfixed32",
          },
        },
      }),
      requiredSfixed64Value: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_sfixed64_value",
            typeFullName: "sfixed64",
          },
        },
      }),
      requiredBoolValue: t.field({
        type: "Boolean",
        required: true,
        extensions: {
          protobufField: { name: "required_bool_value", typeFullName: "bool" },
        },
      }),
      requiredStringValue: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: {
            name: "required_string_value",
            typeFullName: "string",
          },
        },
      }),
      requiredDoubleValues: t.field({
        type: ["Float"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_double_values",
            typeFullName: "double",
          },
        },
      }),
      requiredFloatValues: t.field({
        type: ["Float"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_float_values",
            typeFullName: "float",
          },
        },
      }),
      requiredInt32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_int32_values",
            typeFullName: "int32",
          },
        },
      }),
      requiredInt64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_int64_values",
            typeFullName: "int64",
          },
        },
      }),
      requiredUint32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_uint32_values",
            typeFullName: "uint32",
          },
        },
      }),
      requiredUint64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_uint64_values",
            typeFullName: "uint64",
          },
        },
      }),
      requiredSint32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_sint32_values",
            typeFullName: "sint32",
          },
        },
      }),
      requiredSint64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_sint64_values",
            typeFullName: "sint64",
          },
        },
      }),
      requiredFixed32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_fixed32_values",
            typeFullName: "fixed32",
          },
        },
      }),
      requiredFixed64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_fixed64_values",
            typeFullName: "fixed64",
          },
        },
      }),
      requiredSfixed32Values: t.field({
        type: ["Int"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_sfixed32_values",
            typeFullName: "sfixed32",
          },
        },
      }),
      requiredSfixed64Values: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_sfixed64_values",
            typeFullName: "sfixed64",
          },
        },
      }),
      requiredBoolValues: t.field({
        type: ["Boolean"],
        required: { list: true, items: true },
        extensions: {
          protobufField: { name: "required_bool_values", typeFullName: "bool" },
        },
      }),
      requiredStringValues: t.field({
        type: ["String"],
        required: { list: true, items: true },
        extensions: {
          protobufField: {
            name: "required_string_values",
            typeFullName: "string",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.primitives.Primitives",
        name: "Primitives",
        package: "testapis.primitives",
      },
    },
  });
"
`;

exports[`well-known protobuf types with ts-proto generates pothos DSLs: wktypes/well_known_types.pb.pothos.ts 1`] = `
"// Code generated by protoc-gen-pothos. DO NOT EDIT.
// source: testapis/wktypes/well_known_types.proto

/* eslint-disable */

import { InputObjectRef } from "@pothos/core";
import { builder } from "../../builder";
import { Message } from "./testapis/wktypes/well_known_types";

export const Message$Ref = builder.objectRef<Message>("Message");
builder.objectType(Message$Ref, {
  name: "Message",
  fields: (t) => ({
    timestamp: t.expose("timestamp", {
      type: "DateTime",
      nullable: true,
      extensions: {
        protobufField: {
          name: "timestamp",
          typeFullName: "google.protobuf.Timestamp",
        },
      },
    }),
    int32Value: t.expose("int32Value", {
      type: "Int",
      nullable: true,
      extensions: {
        protobufField: {
          name: "int32_value",
          typeFullName: "google.protobuf.Int32Value",
        },
      },
    }),
    int64Value: t.expose("int64Value", {
      type: "String",
      nullable: true,
      extensions: {
        protobufField: {
          name: "int64_value",
          typeFullName: "google.protobuf.Int64Value",
        },
      },
    }),
    uint32Value: t.expose("uint32Value", {
      type: "Int",
      nullable: true,
      extensions: {
        protobufField: {
          name: "uint32_value",
          typeFullName: "google.protobuf.UInt32Value",
        },
      },
    }),
    uint64Value: t.expose("uint64Value", {
      type: "String",
      nullable: true,
      extensions: {
        protobufField: {
          name: "uint64_value",
          typeFullName: "google.protobuf.UInt64Value",
        },
      },
    }),
    floatValue: t.expose("floatValue", {
      type: "Float",
      nullable: true,
      extensions: {
        protobufField: {
          name: "float_value",
          typeFullName: "google.protobuf.FloatValue",
        },
      },
    }),
    doubleValue: t.expose("doubleValue", {
      type: "Float",
      nullable: true,
      extensions: {
        protobufField: {
          name: "double_value",
          typeFullName: "google.protobuf.DoubleValue",
        },
      },
    }),
    boolValue: t.expose("boolValue", {
      type: "Boolean",
      nullable: true,
      extensions: {
        protobufField: {
          name: "bool_value",
          typeFullName: "google.protobuf.BoolValue",
        },
      },
    }),
    stringValue: t.expose("stringValue", {
      type: "String",
      nullable: true,
      extensions: {
        protobufField: {
          name: "string_value",
          typeFullName: "google.protobuf.StringValue",
        },
      },
    }),
    timestamps: t.expose("timestamps", {
      type: ["DateTime"],
      nullable: { list: true, items: false },
      extensions: {
        protobufField: {
          name: "timestamps",
          typeFullName: "google.protobuf.Timestamp",
        },
      },
    }),
    int32Values: t.expose("int32Values", {
      type: ["Int"],
      nullable: { list: true, items: false },
      extensions: {
        protobufField: {
          name: "int32_values",
          typeFullName: "google.protobuf.Int32Value",
        },
      },
    }),
    int64Values: t.expose("int64Values", {
      type: ["String"],
      nullable: { list: true, items: false },
      extensions: {
        protobufField: {
          name: "int64_values",
          typeFullName: "google.protobuf.Int64Value",
        },
      },
    }),
    uint32Values: t.expose("uint32Values", {
      type: ["Int"],
      nullable: { list: true, items: false },
      extensions: {
        protobufField: {
          name: "uint32_values",
          typeFullName: "google.protobuf.UInt32Value",
        },
      },
    }),
    uint64Values: t.expose("uint64Values", {
      type: ["String"],
      nullable: { list: true, items: false },
      extensions: {
        protobufField: {
          name: "uint64_values",
          typeFullName: "google.protobuf.UInt64Value",
        },
      },
    }),
    floatValues: t.expose("floatValues", {
      type: ["Float"],
      nullable: { list: true, items: false },
      extensions: {
        protobufField: {
          name: "float_values",
          typeFullName: "google.protobuf.FloatValue",
        },
      },
    }),
    doubleValues: t.expose("doubleValues", {
      type: ["Float"],
      nullable: { list: true, items: false },
      extensions: {
        protobufField: {
          name: "double_values",
          typeFullName: "google.protobuf.DoubleValue",
        },
      },
    }),
    boolValues: t.expose("boolValues", {
      type: ["Boolean"],
      nullable: { list: true, items: false },
      extensions: {
        protobufField: {
          name: "bool_values",
          typeFullName: "google.protobuf.BoolValue",
        },
      },
    }),
    stringValues: t.expose("stringValues", {
      type: ["String"],
      nullable: { list: true, items: false },
      extensions: {
        protobufField: {
          name: "string_values",
          typeFullName: "google.protobuf.StringValue",
        },
      },
    }),
    requiredTimestamp: t.field({
      type: "DateTime",
      nullable: false,
      description: "Required.",
      resolve: (source) => {
        return source.requiredTimestamp!;
      },
      extensions: {
        protobufField: {
          name: "required_timestamp",
          typeFullName: "google.protobuf.Timestamp",
        },
      },
    }),
  }),
  isTypeOf: (source) => {
    return (source as Message | { $type: string & {}; }).$type ===
      "testapis.wktypes.Message";
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.wktypes.Message",
      name: "Message",
      package: "testapis.wktypes",
    },
  },
});

export type MessageInput$Shape = {
  timestamp?: Message["timestamp"] | null;
  int32Value?: Message["int32Value"] | null;
  int64Value?: Message["int64Value"] | null;
  uint32Value?: Message["uint32Value"] | null;
  uint64Value?: Message["uint64Value"] | null;
  floatValue?: Message["floatValue"] | null;
  doubleValue?: Message["doubleValue"] | null;
  boolValue?: Message["boolValue"] | null;
  stringValue?: Message["stringValue"] | null;
  timestamps?: Message["timestamps"] | null;
  int32Values?: Message["int32Values"] | null;
  int64Values?: Message["int64Values"] | null;
  uint32Values?: Message["uint32Values"] | null;
  uint64Values?: Message["uint64Values"] | null;
  floatValues?: Message["floatValues"] | null;
  doubleValues?: Message["doubleValues"] | null;
  boolValues?: Message["boolValues"] | null;
  stringValues?: Message["stringValues"] | null;
  requiredTimestamp: Message["requiredTimestamp"];
};

export const MessageInput$Ref: InputObjectRef<MessageInput$Shape> = builder
  .inputRef<MessageInput$Shape>("MessageInput").implement({
    fields: (t) => ({
      timestamp: t.field({
        type: "DateTime",
        required: false,
        extensions: {
          protobufField: {
            name: "timestamp",
            typeFullName: "google.protobuf.Timestamp",
          },
        },
      }),
      int32Value: t.field({
        type: "Int",
        required: false,
        extensions: {
          protobufField: {
            name: "int32_value",
            typeFullName: "google.protobuf.Int32Value",
          },
        },
      }),
      int64Value: t.field({
        type: "String",
        required: false,
        extensions: {
          protobufField: {
            name: "int64_value",
            typeFullName: "google.protobuf.Int64Value",
          },
        },
      }),
      uint32Value: t.field({
        type: "Int",
        required: false,
        extensions: {
          protobufField: {
            name: "uint32_value",
            typeFullName: "google.protobuf.UInt32Value",
          },
        },
      }),
      uint64Value: t.field({
        type: "String",
        required: false,
        extensions: {
          protobufField: {
            name: "uint64_value",
            typeFullName: "google.protobuf.UInt64Value",
          },
        },
      }),
      floatValue: t.field({
        type: "Float",
        required: false,
        extensions: {
          protobufField: {
            name: "float_value",
            typeFullName: "google.protobuf.FloatValue",
          },
        },
      }),
      doubleValue: t.field({
        type: "Float",
        required: false,
        extensions: {
          protobufField: {
            name: "double_value",
            typeFullName: "google.protobuf.DoubleValue",
          },
        },
      }),
      boolValue: t.field({
        type: "Boolean",
        required: false,
        extensions: {
          protobufField: {
            name: "bool_value",
            typeFullName: "google.protobuf.BoolValue",
          },
        },
      }),
      stringValue: t.field({
        type: "String",
        required: false,
        extensions: {
          protobufField: {
            name: "string_value",
            typeFullName: "google.protobuf.StringValue",
          },
        },
      }),
      timestamps: t.field({
        type: ["DateTime"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "timestamps",
            typeFullName: "google.protobuf.Timestamp",
          },
        },
      }),
      int32Values: t.field({
        type: ["Int"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "int32_values",
            typeFullName: "google.protobuf.Int32Value",
          },
        },
      }),
      int64Values: t.field({
        type: ["String"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "int64_values",
            typeFullName: "google.protobuf.Int64Value",
          },
        },
      }),
      uint32Values: t.field({
        type: ["Int"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "uint32_values",
            typeFullName: "google.protobuf.UInt32Value",
          },
        },
      }),
      uint64Values: t.field({
        type: ["String"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "uint64_values",
            typeFullName: "google.protobuf.UInt64Value",
          },
        },
      }),
      floatValues: t.field({
        type: ["Float"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "float_values",
            typeFullName: "google.protobuf.FloatValue",
          },
        },
      }),
      doubleValues: t.field({
        type: ["Float"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "double_values",
            typeFullName: "google.protobuf.DoubleValue",
          },
        },
      }),
      boolValues: t.field({
        type: ["Boolean"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "bool_values",
            typeFullName: "google.protobuf.BoolValue",
          },
        },
      }),
      stringValues: t.field({
        type: ["String"],
        required: { list: false, items: true },
        extensions: {
          protobufField: {
            name: "string_values",
            typeFullName: "google.protobuf.StringValue",
          },
        },
      }),
      requiredTimestamp: t.field({
        type: "DateTime",
        required: true,
        description: "Required.",
        extensions: {
          protobufField: {
            name: "required_timestamp",
            typeFullName: "google.protobuf.Timestamp",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.wktypes.Message",
        name: "Message",
        package: "testapis.wktypes",
      },
    },
  });
"
`;
