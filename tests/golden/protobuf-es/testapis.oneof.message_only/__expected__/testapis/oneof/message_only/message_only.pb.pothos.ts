// @generated by protoc-gen-pothos v0.6.2 with parameter "import_prefix=@proto-graphql/e2e-testapis-protobuf-es-v2/lib/,pothos_builder_path=../builder,protobuf_lib=protobuf-es"
// @generated from file testapis/oneof/message_only/message_only.proto (package testapis.oneof.message_only, syntax proto3)
/* eslint-disable */

import { builder } from "../../../../builder";
import { create, isMessage, MessageShape } from "@bufbuild/protobuf";
import {
  OneofMemberMessage1,
  OneofMemberMessage1Schema,
  OneofMemberMessage2,
  OneofMemberMessage2Schema,
  OneofParent,
  OneofParentSchema,
} from "@proto-graphql/e2e-testapis-protobuf-es-v2/lib/testapis/oneof/message_only/message_only_pb";
import { InputObjectRef } from "@pothos/core";

export const OneofParent$Ref = builder.objectRef<
  MessageShape<typeof OneofParentSchema>
>("OneofParent");
builder.objectType(OneofParent$Ref, {
  name: "OneofParent",
  fields: (t) => ({
    normalField: t.expose("normalField", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: { name: "normal_field", typeFullName: "string" },
      },
    }),
    requiredOneofMembers: t.field({
      type: OneofParentRequiredOneofMembers$Ref,
      nullable: false,
      description: "Required. disallow not_set.",
      resolve: (source) => {
        const value = source.requiredOneofMembers.value as
          | OneofMemberMessage1
          | OneofMemberMessage2
          | undefined;
        if (value == null) {
          throw new Error("requiredOneofMembers should not be null");
        }
        return value;
      },
      extensions: { protobufField: { name: "required_oneof_members" } },
    }),
    optionalOneofMembers: t.field({
      type: OneofParentOptionalOneofMembers$Ref,
      nullable: true,
      resolve: (source) => {
        return (source.optionalOneofMembers.value ?? null) as
          | OneofMemberMessage1
          | OneofMemberMessage2
          | undefined
          | null;
      },
      extensions: { protobufField: { name: "optional_oneof_members" } },
    }),
  }),
  isTypeOf: (source) => {
    return isMessage(source, OneofParentSchema);
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.oneof.message_only.OneofParent",
      name: "OneofParent",
      package: "testapis.oneof.message_only",
    },
  },
});

export const OneofMemberMessage1$Ref = builder.objectRef<
  MessageShape<typeof OneofMemberMessage1Schema>
>("OneofMemberMessage1");
builder.objectType(OneofMemberMessage1$Ref, {
  name: "OneofMemberMessage1",
  fields: (t) => ({
    body: t.expose("body", {
      type: "String",
      nullable: false,
      extensions: { protobufField: { name: "body", typeFullName: "string" } },
    }),
  }),
  isTypeOf: (source) => {
    return isMessage(source, OneofMemberMessage1Schema);
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.oneof.message_only.OneofMemberMessage1",
      name: "OneofMemberMessage1",
      package: "testapis.oneof.message_only",
    },
  },
});

export const OneofMemberMessage2$Ref = builder.objectRef<
  MessageShape<typeof OneofMemberMessage2Schema>
>("OneofMemberMessage2");
builder.objectType(OneofMemberMessage2$Ref, {
  name: "OneofMemberMessage2",
  fields: (t) => ({
    imageUrl: t.expose("imageUrl", {
      type: "String",
      nullable: false,
      extensions: {
        protobufField: { name: "image_url", typeFullName: "string" },
      },
    }),
  }),
  isTypeOf: (source) => {
    return isMessage(source, OneofMemberMessage2Schema);
  },
  extensions: {
    protobufMessage: {
      fullName: "testapis.oneof.message_only.OneofMemberMessage2",
      name: "OneofMemberMessage2",
      package: "testapis.oneof.message_only",
    },
  },
});

export type OneofParentInput$Shape = {
  normalField: OneofParent["normalField"];
  requiredMessage1?: OneofMemberMessage1Input$Shape | null;
  requiredMessage2?: OneofMemberMessage2Input$Shape | null;
  optionalMessage1?: OneofMemberMessage1Input$Shape | null;
  optionalMessage2?: OneofMemberMessage2Input$Shape | null;
};

export const OneofParentInput$Ref: InputObjectRef<OneofParentInput$Shape> =
  builder.inputRef<OneofParentInput$Shape>("OneofParentInput").implement({
    fields: (t) => ({
      normalField: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: { name: "normal_field", typeFullName: "string" },
        },
      }),
      requiredMessage1: t.field({
        type: OneofMemberMessage1Input$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "required_message1",
            typeFullName: "testapis.oneof.message_only.OneofMemberMessage1",
          },
        },
      }),
      requiredMessage2: t.field({
        type: OneofMemberMessage2Input$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "required_message2",
            typeFullName: "testapis.oneof.message_only.OneofMemberMessage2",
          },
        },
      }),
      optionalMessage1: t.field({
        type: OneofMemberMessage1Input$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "optional_message1",
            typeFullName: "testapis.oneof.message_only.OneofMemberMessage1",
          },
        },
      }),
      optionalMessage2: t.field({
        type: OneofMemberMessage2Input$Ref,
        required: false,
        extensions: {
          protobufField: {
            name: "optional_message2",
            typeFullName: "testapis.oneof.message_only.OneofMemberMessage2",
          },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.oneof.message_only.OneofParent",
        name: "OneofParent",
        package: "testapis.oneof.message_only",
      },
    },
  }) as InputObjectRef<OneofParentInput$Shape>;

export function OneofParentInput$toProto(
  input: OneofParentInput$Shape | null | undefined,
): OneofParent {
  return create(OneofParentSchema, {
    normalField: input?.normalField ?? undefined,
    requiredOneofMembers: input?.requiredMessage1
      ? {
        case: "requiredMessage1",
        value: OneofMemberMessage1Input$toProto(input.requiredMessage1),
      }
      : input?.requiredMessage2
      ? {
        case: "requiredMessage2",
        value: OneofMemberMessage2Input$toProto(input.requiredMessage2),
      }
      : undefined,
    optionalOneofMembers: input?.optionalMessage1
      ? {
        case: "optionalMessage1",
        value: OneofMemberMessage1Input$toProto(input.optionalMessage1),
      }
      : input?.optionalMessage2
      ? {
        case: "optionalMessage2",
        value: OneofMemberMessage2Input$toProto(input.optionalMessage2),
      }
      : undefined,
  });
}

export type OneofMemberMessage1Input$Shape = {
  body: OneofMemberMessage1["body"];
};

export const OneofMemberMessage1Input$Ref: InputObjectRef<
  OneofMemberMessage1Input$Shape
> = builder.inputRef<OneofMemberMessage1Input$Shape>("OneofMemberMessage1Input")
  .implement({
    fields: (t) => ({
      body: t.field({
        type: "String",
        required: true,
        extensions: { protobufField: { name: "body", typeFullName: "string" } },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.oneof.message_only.OneofMemberMessage1",
        name: "OneofMemberMessage1",
        package: "testapis.oneof.message_only",
      },
    },
  }) as InputObjectRef<OneofMemberMessage1Input$Shape>;

export function OneofMemberMessage1Input$toProto(
  input: OneofMemberMessage1Input$Shape | null | undefined,
): OneofMemberMessage1 {
  return create(OneofMemberMessage1Schema, { body: input?.body ?? undefined });
}

export type OneofMemberMessage2Input$Shape = {
  imageUrl: OneofMemberMessage2["imageUrl"];
};

export const OneofMemberMessage2Input$Ref: InputObjectRef<
  OneofMemberMessage2Input$Shape
> = builder.inputRef<OneofMemberMessage2Input$Shape>("OneofMemberMessage2Input")
  .implement({
    fields: (t) => ({
      imageUrl: t.field({
        type: "String",
        required: true,
        extensions: {
          protobufField: { name: "image_url", typeFullName: "string" },
        },
      }),
    }),
    extensions: {
      protobufMessage: {
        fullName: "testapis.oneof.message_only.OneofMemberMessage2",
        name: "OneofMemberMessage2",
        package: "testapis.oneof.message_only",
      },
    },
  }) as InputObjectRef<OneofMemberMessage2Input$Shape>;

export function OneofMemberMessage2Input$toProto(
  input: OneofMemberMessage2Input$Shape | null | undefined,
): OneofMemberMessage2 {
  return create(OneofMemberMessage2Schema, {
    imageUrl: input?.imageUrl ?? undefined,
  });
}

export const OneofParentRequiredOneofMembers$Ref = builder.unionType(
  "OneofParentRequiredOneofMembers",
  {
    types: [OneofMemberMessage1$Ref, OneofMemberMessage2$Ref],
    description: "Required. disallow not_set.",
    extensions: {
      protobufOneof: {
        fullName:
          "testapis.oneof.message_only.OneofParent.required_oneof_members",
        name: "required_oneof_members",
        messageName: "OneofParent",
        package: "testapis.oneof.message_only",
        fields: [{
          name: "required_message1",
          type: "testapis.oneof.message_only.OneofMemberMessage1",
        }, {
          name: "required_message2",
          type: "testapis.oneof.message_only.OneofMemberMessage2",
        }],
      },
    },
  },
);

export const OneofParentOptionalOneofMembers$Ref = builder.unionType(
  "OneofParentOptionalOneofMembers",
  {
    types: [OneofMemberMessage1$Ref, OneofMemberMessage2$Ref],
    extensions: {
      protobufOneof: {
        fullName:
          "testapis.oneof.message_only.OneofParent.optional_oneof_members",
        name: "optional_oneof_members",
        messageName: "OneofParent",
        package: "testapis.oneof.message_only",
        fields: [{
          name: "optional_message1",
          type: "testapis.oneof.message_only.OneofMemberMessage1",
        }, {
          name: "optional_message2",
          type: "testapis.oneof.message_only.OneofMemberMessage2",
        }],
      },
    },
  },
);
